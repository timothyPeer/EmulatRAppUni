<!DOCTYPE html>
<html>
<head>
   <title>Introduction &gt; Appendix &gt; EmulatR Logging</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta name="description" content="# ASA Emulator Logging System &nbsp;**Version:** 2.0 &nbsp; **Date:** December 2025 &nbsp; **Architecture:** Queue-based async logging with multiple backends &nbsp;--- &nbsp;## Overview &nbsp;The ASA" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet" />

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
        padding:0; 
        background: #ffffff; 
      } 
      div#printheader { display: none; }
      #idheader { 
        width:100%; 
        min-height: 60px; 
        padding: 0; 
        margin: 0;
        position: fixed;
        top: 0;
        background: #2C5D88;
        z-index: 2;
      } 
      /* The "min-height" for "#idheader table" ensures that the (blue) header of the topic
         has at least the same height as the header of the navigation panel left of it */
      #idheader table { min-height: 59px;}             
      #idheader h1 span { color: #FFF }     
      #idnav {
        text-align: right;
        width: 126px;
        vertical-align: middle;        
      } 
      #idnav a { text-decoration: none }
      #idnav span {
        display: inline-block;
        width: 24px;
        height: 24px;
        margin-left: 4px;
        background:url('hm_webhelp_buttons_grey.png') top left no-repeat;
      } 
      #idnav a span {
        background-image:url('hm_webhelp_buttons_white.png');
      } 
      #idnav a span:hover {
        background-image:url('hm_webhelp_buttons_orange.png');
      } 
      #idnav span.hmbtnprev { background-position: 0 -32px }
      #idnav span.hmbtnnext { background-position: -24px -32px }
      #idnav span.hmbtntop  { background-position: -48px -32px }
      #idnav span.hmbtntoggle  { width: 20px; background-position: -70px -32px }
      #idnav span.hmbtnprint  { background-position: -88px -32px }

      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}       
      p.help-url { margin: 20px 0 5px 0; text-align: center; }
	  p.help-url a:link { font-size: 50%; text-decoration: none; color: black; }
	  p.help-url a:visited { color: black; }
	  p.help-url a:hover { font-size: 95%; text-decoration: underline; }
      #switchtoggles { text-align: right; padding: 0 2px 0 0; font-size: 90%; } 
      .sync-toc { color: #FFF; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #FFF; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #FFF; }
      .sync-toc a:hover { text-decoration: underline; }
	  a#printbuttonlink { cursor: pointer; }
      a.hmanchor { display: inline-block; margin-top: -4em; padding-top: 4em; }  
   </style>
   <style TYPE="text/css" media="print">
      div#idheader, img.dropdown-toggle-icon, p.help-url { display:none } 
   </style>
   
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "emulatr-logging.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<div id="printheader"><h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">EmulatR Logging</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0"> 
  <tr>
    <td class="topichead" style="text-align:left; vertical-align:middle">
      <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="index.html?emulatr-logging.html" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
      <p class="crumbs"><b>Navigation:</b>&nbsp;
      
      <a href="introduction.html">Introduction</a> &gt; <a href="appendix---trait-examples.html">Appendix</a>&nbsp;&gt;</p>
   
      <h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">EmulatR Logging</span></h1>

    </td>
    <td class="topichead" id="idnav">
      
      <a href="unit-test-scaffold.html" title="Previous Topic"><span class="hmbtnprev"></span></a>
      <a href="appendix---trait-examples.html" title="Parent Chapter"><span class="hmbtntop"></span></a>
      <a href="keep.html" title="Next Topic"><span class="hmbtnnext"></span></a>
      
    </td>
  </tr>  
</table>
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser --> 
<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->

<!--ZOOMRESTART-->
<p class="p_Normal"># ASA Emulator Logging System</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Version:** 2.0 &nbsp;</p>
<p class="p_Normal">**Date:** December 2025 &nbsp;</p>
<p class="p_Normal">**Architecture:** Queue-based async logging with multiple backends</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Overview</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The ASA Emulator logging system provides:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">- ✅ **Lock-free queue** - Bounded ring buffer, no allocations</p>
<p class="p_Normal">- ✅ **Multiple backends** - Disk, network API, console</p>
<p class="p_Normal">- ✅ **Async writing** - Background thread for I/O</p>
<p class="p_Normal">- ✅ **Configurable levels** - Per-backend filtering</p>
<p class="p_Normal">- ✅ **Zero-cost when disabled** - Compile-time elimination</p>
<p class="p_Normal">- ✅ **Config-driven** - Enable/disable via INI file</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Log Levels</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;Level&nbsp;|&nbsp;When&nbsp;Enabled&nbsp;|&nbsp;Use&nbsp;Case&nbsp;|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|-------|--------------|----------|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;**TRACE**&nbsp;|&nbsp;Config&nbsp;file&nbsp;(`traceEnabled=true`)&nbsp;|&nbsp;Verbose&nbsp;execution&nbsp;traces&nbsp;|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;**DEBUG**&nbsp;|&nbsp;Debug&nbsp;builds&nbsp;only&nbsp;(`#ifdef&nbsp;_DEBUG`)&nbsp;|&nbsp;Development&nbsp;debugging&nbsp;|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;**INFO**&nbsp;|&nbsp;Always&nbsp;|&nbsp;Informational&nbsp;messages&nbsp;|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;**WARN**&nbsp;|&nbsp;Always&nbsp;|&nbsp;Warning&nbsp;messages&nbsp;|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;**ERROR**&nbsp;|&nbsp;Always&nbsp;|&nbsp;Error&nbsp;messages&nbsp;|</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">|&nbsp;**CRITICAL**&nbsp;|&nbsp;Always&nbsp;|&nbsp;Critical&nbsp;errors&nbsp;|</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Quick Start</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### 1. Configuration (ASAEmulatR.ini)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```ini</p>
<p class="p_Normal">[System]</p>
<p class="p_Normal">ProcessorCount=4</p>
<p class="p_Normal">MemorySizeGB=16</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">[Logging]</p>
<p class="p_Normal">TraceEnabled=false</p>
<p class="p_Normal">EnableDiskLogging=true</p>
<p class="p_Normal">EnableConsole=true</p>
<p class="p_Normal">NetworkApiUrl=http://localhost:5000/api/logs</p>
<p class="p_Normal">MaxLogFileSizeBytes=104857600</p>
<p class="p_Normal">MaxLogFileCount=10</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### 2. Initialization (main.cpp)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">#include &quot;LoggingSystem.h&quot;</p>
<p class="p_Normal">#include &quot;LoggingMacros.h&quot;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">#include &quot;EmulatR_init.h&quot;</p>
<p class="p_Normal">#include &quot;LoggingMacros.h&quot;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">int main(int argc, char *argv[]) {</p>
<p class="p_Normal"> &nbsp; &nbsp;QCoreApplication app(argc, argv);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// Initialize emulator (includes logging)</p>
<p class="p_Normal"> &nbsp; &nbsp;auto&amp; init = global_EmulatR_init();</p>
<p class="p_Normal"> &nbsp; &nbsp;if (!init.initializeSystem(&quot;Z:/EmulatR/CONFIG&quot;)) {</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;CRITICAL_LOG(&quot;System initialization failed&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;return 1;</p>
<p class="p_Normal"> &nbsp; &nbsp;}</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;INFO_LOG(&quot;ASA Emulator started&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;return app.exec();</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### 3. Usage in Code</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void someFunction() {</p>
<p class="p_Normal"> &nbsp; &nbsp;INFO_LOG(&quot;Function called&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;int value = 42;</p>
<p class="p_Normal"> &nbsp; &nbsp;DEBUG_LOG(QString(&quot;Value: %1&quot;).arg(value));</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;if (error) {</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;ERROR_LOG(QString(&quot;Operation failed: %1&quot;).arg(errorMsg));</p>
<p class="p_Normal"> &nbsp; &nbsp;}</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;TRACE_LOG(&quot;Detailed execution trace&quot;); &nbsp;// Only if enabled in config</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Architecture</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```</p>
<p class="p_CodeExample"><span class="f_CodeExample">┌────────────────────────────────────────────────────────┐</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Application&nbsp;Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;┌─────────────────────────────────────────────────┐&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;INFO_LOG(&quot;Message&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;DEBUG_LOG(&quot;Debug&nbsp;info&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;ERROR_LOG(&quot;Error&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;└─────────────────────────────────────────────────┘&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">└────────────────────────┬───────────────────────────────┘</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;(lock-free)</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▼</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">┌────────────────────────────────────────────────────────┐</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lock-Free&nbsp;Ring&nbsp;Buffer&nbsp;Queue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;┌─────────────────────────────────────────────────┐&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;[Msg1][Msg2][Msg3]...[MsgN]&nbsp;&nbsp;(4096&nbsp;messages)&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;writeIndex&nbsp;────▶&nbsp;readIndex&nbsp;────▶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;└─────────────────────────────────────────────────┘&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">└────────────────────────┬───────────────────────────────┘</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▼&nbsp;(background&nbsp;thread)</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">┌───────────────────────────────────────────────────────┐</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoggingSystem&nbsp;Thread&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;┌─────────────────────────────────────────────────┐&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;while&nbsp;(running)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;msg&nbsp;=&nbsp;queue.tryDequeue()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;writeToBackends(msg)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;│&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;└─────────────────────────────────────────────────┘&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">└────────────────────────┬──────────────────────────────┘</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;┌──────────────┼──────────────┐</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▼</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">┌──────────────┐&nbsp;┌───────────────┐&nbsp;┌───────────────┐</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;Disk&nbsp;Backend&nbsp;│&nbsp;│Network&nbsp;Backend│&nbsp;│Console&nbsp;Backend│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;emulator.log&nbsp;│&nbsp;│&nbsp;HTTP&nbsp;POST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;stdout/stderr&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;debug.log&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;to&nbsp;API&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;trace.log&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">│&nbsp;errors.log&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;│&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">└──────────────┘&nbsp;└───────────────┘&nbsp;└───────────────┘</span></p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Backends</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Disk Backend</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Purpose:** Write logs to disk files.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Configuration:**</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">auto&amp; log = global_LoggingSystem();</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// Main log (INFO and above)</p>
<p class="p_Normal">log.addDiskBackend(&quot;emulator.log&quot;, LogLevel::Info);</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// Debug log (DEBUG and above)</p>
<p class="p_Normal">log.addDiskBackend(&quot;debug.log&quot;, LogLevel::Debug);</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// Error log (ERROR and above)</p>
<p class="p_Normal">log.addDiskBackend(&quot;errors.log&quot;, LogLevel::Error);</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// Trace log (TRACE and above) - if enabled</p>
<p class="p_Normal">log.addDiskBackend(&quot;trace.log&quot;, LogLevel::Trace);</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Output Format:**</p>
<p class="p_Normal">```</p>
<p class="p_Normal">[2025-12-28 14:30:45.123] [INFO ] System initialized</p>
<p class="p_Normal">[2025-12-28 14:30:45.456] [DEBUG] CPU count: 4</p>
<p class="p_Normal">[2025-12-28 14:30:46.789] [ERROR] Failed to open file</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Log Rotation:**</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">// TODO: Implement log rotation (future feature)</p>
<p class="p_Normal">// - Rotate when file exceeds maxLogFileSizeBytes</p>
<p class="p_Normal">// - Keep maxLogFileCount files</p>
<p class="p_Normal">// - Files: emulator.log, emulator.log.1, emulator.log.2, ...</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Network Backend</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Purpose:** Send logs to HTTP API for centralized monitoring.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Configuration:**</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">log.addNetworkBackend(&quot;http://localhost:5000/api/logs&quot;, LogLevel::Warn);</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**JSON Payload:**</p>
<p class="p_Normal">```json</p>
<p class="p_Normal">{</p>
<p class="p_Normal"> &nbsp;&quot;timestamp&quot;: 1735398645123456,</p>
<p class="p_Normal"> &nbsp;&quot;level&quot;: 3,</p>
<p class="p_Normal"> &nbsp;&quot;thread&quot;: 12345,</p>
<p class="p_Normal"> &nbsp;&quot;message&quot;: &quot;Operation failed: timeout&quot;</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**API Requirements:**</p>
<p class="p_Normal">- **Method:** POST</p>
<p class="p_Normal">- **Content-Type:** application/json</p>
<p class="p_Normal">- **Timeout:** 5 seconds</p>
<p class="p_Normal">- **Response:** Any (ignored)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Use Cases:**</p>
<p class="p_Normal">- Centralized log aggregation (e.g., ELK stack, Splunk)</p>
<p class="p_Normal">- Real-time monitoring dashboards</p>
<p class="p_Normal">- Alert systems (critical errors trigger notifications)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Console Backend</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Purpose:** Print logs to stdout/stderr.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Configuration:**</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">log.addConsoleBackend(LogLevel::Info);</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Output:**</p>
<p class="p_Normal">```</p>
<p class="p_Normal">[INFO ] System initialized</p>
<p class="p_Normal">[DEBUG] CPU count: 4</p>
<p class="p_Normal">[ERROR] Operation failed</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**stderr vs stdout:**</p>
<p class="p_Normal">- **stdout:** TRACE, DEBUG, INFO, WARN</p>
<p class="p_Normal">- **stderr:** ERROR, CRITICAL</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Usage Examples</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Example 1: Basic Logging</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void initializeDevice() {</p>
<p class="p_Normal"> &nbsp; &nbsp;INFO_LOG(&quot;Initializing SCSI controller&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;if (!device-&gt;initialize()) {</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;ERROR_LOG(QString(&quot;SCSI initialization failed: %1&quot;)</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.arg(device-&gt;errorString()));</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;return;</p>
<p class="p_Normal"> &nbsp; &nbsp;}</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;INFO_LOG(&quot;SCSI controller initialized successfully&quot;);</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Example 2: Debug Logging (Debug Builds Only)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void processInstruction(quint32 opcode) {</p>
<p class="p_Normal"> &nbsp; &nbsp;DEBUG_LOG(QString(&quot;Processing opcode: 0x%1&quot;).arg(opcode, 8, 16, QChar('0')));</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// ... instruction execution ...</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;DEBUG_LOG(QString(&quot;Instruction complete, result: 0x%1&quot;).arg(result, 16, 16, QChar('0')));</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**In release builds, this compiles to nothing!**</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Example 3: Trace Logging (Config-Controlled)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void stepPipeline() {</p>
<p class="p_Normal"> &nbsp; &nbsp;TRACE_LOG(&quot;Pipeline step started&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;for (int stage = 0; stage &lt; 7; ++stage) {</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;TRACE_LOG(QString(&quot; &nbsp;Stage %1: processing&quot;).arg(stage));</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;// ... stage execution ...</p>
<p class="p_Normal"> &nbsp; &nbsp;}</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;TRACE_LOG(&quot;Pipeline step completed&quot;);</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Only enabled when `TraceEnabled=true` in config file.**</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Example 4: Scope Logging</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void complexFunction() {</p>
<p class="p_Normal"> &nbsp; &nbsp;LOG_SCOPE(); &nbsp;// Logs entry and exit</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;DEBUG_LOG(&quot;Step 1: initialization&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;// ...</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;DEBUG_LOG(&quot;Step 2: processing&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;// ...</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;DEBUG_LOG(&quot;Step 3: cleanup&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// Automatic exit log when function returns</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Output:**</p>
<p class="p_Normal">```</p>
<p class="p_Normal">[DEBUG] → Entering complexFunction()</p>
<p class="p_Normal">[DEBUG] Step 1: initialization</p>
<p class="p_Normal">[DEBUG] Step 2: processing</p>
<p class="p_Normal">[DEBUG] Step 3: cleanup</p>
<p class="p_Normal">[DEBUG] ← Leaving complexFunction()</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Example 5: Conditional Logging</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void processData(const QByteArray&amp; data) {</p>
<p class="p_Normal"> &nbsp; &nbsp;if (data.isEmpty()) {</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;WARN_LOG(&quot;Received empty data&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;return;</p>
<p class="p_Normal"> &nbsp; &nbsp;}</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;INFO_LOG(QString(&quot;Processing %1 bytes&quot;).arg(data.size()));</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;if (data.size() &gt; MAX_SIZE) {</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;ERROR_LOG(QString(&quot;Data too large: %1 bytes (max %2)&quot;)</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.arg(data.size())</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.arg(MAX_SIZE));</p>
<p class="p_Normal"> &nbsp; &nbsp; &nbsp; &nbsp;return;</p>
<p class="p_Normal"> &nbsp; &nbsp;}</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// ... process data ...</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Example 6: Assertions with Logging</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">void setMemorySize(quint64 size) {</p>
<p class="p_Normal"> &nbsp; &nbsp;LOG_ASSERT(size &gt; 0, &quot;Memory size must be positive&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;LOG_ASSERT(size &lt;= MAX_MEMORY, &quot;Memory size exceeds maximum&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;m_memorySize = size;</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**If assertion fails:**</p>
<p class="p_Normal">```</p>
<p class="p_Normal">[CRIT ] ASSERTION FAILED: Memory size must be positive at Memory.cpp:123</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Performance</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Hot Path Performance</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">// Logging call breakdown:</p>
<p class="p_Normal">INFO_LOG(&quot;Message&quot;);</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// ~20 nanoseconds:</p>
<p class="p_Normal">// &nbsp; - Check if level enabled (1 ns)</p>
<p class="p_Normal">// &nbsp; - Build LogMessage struct (5 ns)</p>
<p class="p_Normal">// &nbsp; - Queue enqueue (atomic CAS) (10 ns)</p>
<p class="p_Normal">// &nbsp; - Wake background thread (4 ns)</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Throughput:**</p>
<p class="p_Normal">- **Lock-free enqueue:** ~50 million messages/sec</p>
<p class="p_Normal">- **Queue capacity:** 4096 messages</p>
<p class="p_Normal">- **Dropped messages:** Tracked via counter</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Queue Full Handling</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">// If queue is full, message is dropped</p>
<p class="p_Normal">quint64 dropped = global_LoggingSystem().droppedMessageCount();</p>
<p class="p_Normal">if (dropped &gt; 0) {</p>
<p class="p_Normal"> &nbsp; &nbsp;WARN_LOG(QString(&quot;Dropped %1 log messages&quot;).arg(dropped));</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Configuration Examples</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Development Configuration (Verbose)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```ini</p>
<p class="p_Normal">[Logging]</p>
<p class="p_Normal">TraceEnabled=true</p>
<p class="p_Normal">EnableDiskLogging=true</p>
<p class="p_Normal">EnableConsole=true</p>
<p class="p_Normal">NetworkApiUrl=</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Backends:**</p>
<p class="p_Normal">- Disk: `emulator.log`, `debug.log`, `trace.log`, `errors.log`</p>
<p class="p_Normal">- Console: INFO and above</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Production Configuration (Minimal)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```ini</p>
<p class="p_Normal">[Logging]</p>
<p class="p_Normal">TraceEnabled=false</p>
<p class="p_Normal">EnableDiskLogging=true</p>
<p class="p_Normal">EnableConsole=false</p>
<p class="p_Normal">NetworkApiUrl=http://monitoring.example.com/api/logs</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Backends:**</p>
<p class="p_Normal">- Disk: `emulator.log`, `errors.log` (no debug/trace)</p>
<p class="p_Normal">- Network: WARN and above to monitoring server</p>
<p class="p_Normal">- No console output</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Testing Configuration (Console Only)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```ini</p>
<p class="p_Normal">[Logging]</p>
<p class="p_Normal">TraceEnabled=false</p>
<p class="p_Normal">EnableDiskLogging=false</p>
<p class="p_Normal">EnableConsole=true</p>
<p class="p_Normal">NetworkApiUrl=</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Backends:**</p>
<p class="p_Normal">- Console only (fast, no I/O overhead)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Shutdown</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">// In EmulatR_init destructor or explicit shutdown:</p>
<p class="p_Normal">void EmulatR_init::shutdown() noexcept {</p>
<p class="p_Normal"> &nbsp; &nbsp;INFO_LOG(&quot;=== EmulatR Shutdown ===&quot;);</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// Flush all pending logs</p>
<p class="p_Normal"> &nbsp; &nbsp;auto&amp; log = global_LoggingSystem();</p>
<p class="p_Normal"> &nbsp; &nbsp;log.flush();</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// Shutdown logging system</p>
<p class="p_Normal"> &nbsp; &nbsp;log.shutdown();</p>
<p class="p_Normal"> &nbsp; &nbsp;</p>
<p class="p_Normal"> &nbsp; &nbsp;// ... other cleanup ...</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Shutdown steps:**</p>
<p class="p_Normal">1. Stop background thread</p>
<p class="p_Normal">2. Drain queue</p>
<p class="p_Normal">3. Flush all backends</p>
<p class="p_Normal">4. Close file handles</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Troubleshooting</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Problem: Logs not appearing</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Possible causes:**</p>
<p class="p_Normal">1. Log level too high (e.g., INFO logs filtered by DEBUG backend)</p>
<p class="p_Normal">2. Backend not initialized</p>
<p class="p_Normal">3. Queue full (check dropped message count)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Solution:**</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">// Check configuration</p>
<p class="p_Normal">auto&amp; log = global_LoggingSystem();</p>
<p class="p_Normal">INFO_LOG(&quot;Test message&quot;);</p>
<p class="p_Normal">log.flush(); &nbsp;// Force flush</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">quint64 dropped = log.droppedMessageCount();</p>
<p class="p_Normal">if (dropped &gt; 0) {</p>
<p class="p_Normal"> &nbsp; &nbsp;qWarning() &lt;&lt; &quot;Dropped messages:&quot; &lt;&lt; dropped;</p>
<p class="p_Normal">}</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Problem: Performance degradation</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Possible causes:**</p>
<p class="p_Normal">1. Too many backends</p>
<p class="p_Normal">2. Slow disk I/O</p>
<p class="p_Normal">3. Network backend timeout</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Solution:**</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">// Reduce backends</p>
<p class="p_Normal">log.addDiskBackend(&quot;emulator.log&quot;, LogLevel::Info); &nbsp;// One file only</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// Increase queue size (recompile)</p>
<p class="p_Normal">LockFreeRingBuffer&lt;LogMessage, 8192&gt; m_queue; &nbsp;// 4096 → 8192</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">// Disable slow backends</p>
<p class="p_Normal">// log.addNetworkBackend(...); &nbsp;// Comment out</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Migration from Old System</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### Old Code (TraceCore)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">TraceCore::emit(TraceCore::Level::Info, &quot;Message&quot;);</p>
<p class="p_Normal">logInfo(&quot;Message&quot;);</p>
<p class="p_Normal">logDebug(&quot;Debug info&quot;);</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">### New Code (LoggingSystem)</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">```cpp</p>
<p class="p_Normal">INFO_LOG(&quot;Message&quot;);</p>
<p class="p_Normal">DEBUG_LOG(&quot;Debug info&quot;);</p>
<p class="p_Normal">```</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Both syntaxes work!** Backward compatibility provided.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">---</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">## Summary</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">| Feature | Benefit |</p>
<p class="p_Normal">|---------|---------|</p>
<p class="p_Normal">| **Lock-free queue** | High throughput, no contention |</p>
<p class="p_Normal">| **Async writing** | No blocking on I/O |</p>
<p class="p_Normal">| **Multiple backends** | Flexible routing (disk, network, console) |</p>
<p class="p_Normal">| **Config-driven** | Easy enable/disable without recompile |</p>
<p class="p_Normal">| **Zero-cost** | TRACE/DEBUG compile to nothing when disabled |</p>
<p class="p_Normal">| **Thread-safe** | Safe from any thread |</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">**Result:** Production-ready logging with minimal performance impact.</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">




function normHeaders() {
 var topicHeadHeight =  $("#idheaderbg > table").first().height() + 1,
	 $topicHeaderBox = $("#idheader"),
	 $topicContentBox = $("#idcontent"),
	 $navHeader = $("#navbar", parent.document),			 
	$navBox = $("div#hmnavframe", parent.document),
	 navHeaderHeight = $navHeader.height();
 if (topicHeadHeight != navHeaderHeight) {
	 $navHeader.css("height",topicHeadHeight + "px");
	 $navBox.css("top", topicHeadHeight + "px");
	 $topicHeaderBox.css("height", topicHeadHeight + "px");
		if ($topicHeaderBox.css("position") == "fixed"){
			$topicContentBox.css("margin-top", topicHeadHeight + "px");
			}
		}
    }
			 
  $(document).ready(function(){
    $(window).on('resize', function() {
      var y = $('#idheader').height(); 
      $('#idcontent').css('margin-top', y);
      var par = window.parent;
      if ($( par ).width() <= $( window ).width()+20) {
        $('#idheader').css('position', 'relative');
        $('#idcontent').css('margin-top', 0);
        $('#idbacktotop').css('display', 'block');
        $('.hmanchor').css('margin-top', -20);
	$('.hmanchor').css('padding-top', 20);
      }
      else {
        $('#idheader').css('position', 'fixed');
        $('#idcontent').css('margin-top', $('#idheader').height());
        $('#idbacktotop').css('display', 'none');
        $('.hmanchor').css('margin-top', -y-20);
		$('.hmanchor').css('padding-top', y+20);
		$("div#hmsplitter", parent.document).css('width', '3px');
      }
	normHeaders();
    });
    
	 $(window).resize(); //trigger event for initially small displays
  });
 

if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) { $('.sync-toc').show();$('p.crumbs').hide();}

</script>
</body>
</html>
