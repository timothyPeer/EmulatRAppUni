hmLoadTopic({
hmKeywords:"",
hmTitle:"Usage and Integration",
hmDescription:"# EMulatR Logging System - Complete Implementation",
hmPrevLink:"",
hmNextLink:"",
hmParentLink:"appendix---trait-examples.html",
hmBreadCrumbs:"",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Appendix > Appendix I ‚Äì Glossary and Acronyms",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">Usage and Integration<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\"># EMulatR Logging System - Complete Implementation<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Status: ‚úÖ COMPLETE - Ready for Integration**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## üìã **WHAT WE\'VE BUILT TONIGHT:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **1. Enhanced LogEntry Structure** (`LogEntry.h`)<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">‚úÖ Complete log entry with Alpha-specific context<\/p>\n\r<p class=\"p_Normal\">‚úÖ JSON serialization\/deserialization &nbsp;<\/p>\n\r<p class=\"p_Normal\">‚úÖ Call-stack depth tracking<\/p>\n\r<p class=\"p_Normal\">‚úÖ CPU context (PC, instruction count, PAL mode)<\/p>\n\r<p class=\"p_Normal\">‚úÖ Performance metrics (cycle count, memory accesses)<\/p>\n\r<p class=\"p_Normal\">‚úÖ Thread-safe call stack tracker<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **2. Enhanced Network Backend** (`NetworkLogBackend_Enhanced.h`)<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">‚úÖ TCP socket server for real-time LogReader connection<\/p>\n\r<p class=\"p_Normal\">‚úÖ JSON message batching (20Hz update rate)<\/p>\n\r<p class=\"p_Normal\">‚úÖ Multiple client support<\/p>\n\r<p class=\"p_Normal\">‚úÖ Connection management with auto-reconnect<\/p>\n\r<p class=\"p_Normal\">‚úÖ Statistics tracking (bytes sent, messages dropped)<\/p>\n\r<p class=\"p_Normal\">‚úÖ Non-blocking message queuing<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **3. Complete Logging System** (`LoggingSystem_Complete.cpp`)<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">‚úÖ Enhanced logWithContext() method<\/p>\n\r<p class=\"p_Normal\">‚úÖ Alpha-specific logging helpers<\/p>\n\r<p class=\"p_Normal\">‚úÖ Call-stack depth integration<\/p>\n\r<p class=\"p_Normal\">‚úÖ Network logging enablement<\/p>\n\r<p class=\"p_Normal\">‚úÖ Thread-local CPU context tracking<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **4. LogReader GUI Application** (`LogReader_GUI.h` + `LogReader_Complete.cpp`)<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">‚úÖ Real-time TCP connection to emulator<\/p>\n\r<p class=\"p_Normal\">‚úÖ Hierarchical log display with call-stack visualization<\/p>\n\r<p class=\"p_Normal\">‚úÖ Component filtering (CPU, PAL, Memory, Pipeline, etc.)<\/p>\n\r<p class=\"p_Normal\">‚úÖ Log level filtering (TRACE, DEBUG, INFO, WARN, ERROR, CRITICAL) &nbsp;<\/p>\n\r<p class=\"p_Normal\">‚úÖ Search and filtering<\/p>\n\r<p class=\"p_Normal\">‚úÖ Statistics panel with connection monitoring<\/p>\n\r<p class=\"p_Normal\">‚úÖ Export to JSON\/text files<\/p>\n\r<p class=\"p_Normal\">‚úÖ Expandable tree view with call-stack indentation<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## üöÄ **INTEGRATION STEPS:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Step 1: Add Files to Your Project**<\/p>\n\r<p class=\"p_Normal\">```bash<\/p>\n\r<p class=\"p_Normal\"># Core logging enhancements<\/p>\n\r<p class=\"p_Normal\">LogEntry.h &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# ‚Üí coreLib\/<\/p>\n\r<p class=\"p_Normal\">NetworkLogBackend_Enhanced.h &nbsp;# ‚Üí coreLib\/<\/p>\n\r<p class=\"p_Normal\">LoggingSystem_Complete.cpp &nbsp; &nbsp;# ‚Üí coreLib\/<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># LogReader GUI (separate application)<\/p>\n\r<p class=\"p_Normal\">LogReader_GUI.h &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# ‚Üí tools\/LogReader\/<\/p>\n\r<p class=\"p_Normal\">LogReader_Complete.cpp &nbsp; &nbsp; &nbsp; # ‚Üí tools\/LogReader\/<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Step 2: Update Your Existing LoggingSystem.h**<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">\/\/ Add to LoggingSystem class:<\/p>\n\r<p class=\"p_Normal\">private:<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;std::unique_ptr&lt;NetworkLogBackend_Enhanced&gt; m_networkBackend;<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">public:<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;void enableNetworkLogging(const QString&amp; host, quint16 port);<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;void logWithContext(LogLevel level, const QString&amp; component,<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const QString&amp; message, int callDepth,<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const QString&amp; function = {},<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const QString&amp; file = {}, int line = 0);<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Step 3: Enable Network Logging in Main Emulator**<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">\/\/ In your main emulator initialization:<\/p>\n\r<p class=\"p_Normal\">auto&amp; logger = global_LoggingSystem();<\/p>\n\r<p class=\"p_Normal\">logger.initialize(&quot;.\/logs&quot;, true); &nbsp;\/\/ Enable trace<\/p>\n\r<p class=\"p_Normal\">logger.enableNetworkLogging(&quot;localhost&quot;, 9999); &nbsp;\/\/ Start TCP server<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">INFO_LOG(&quot;Network logging enabled on port 9999&quot;);<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Step 4: Use Enhanced Logging in Emulator Components**<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">\/\/ In PAL handlers:<\/p>\n\r<p class=\"p_Normal\">#include &quot;LogEntry.h&quot;<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">void PalService::executeCSERVE(PipelineSlot&amp; slot, PalResult&amp; result) <\/p>\n\r<p class=\"p_Normal\">{<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;TRACE_FUNCTION_COMPONENT(&quot;PAL&quot;); &nbsp;\/\/ Auto call-stack tracking<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;quint32 function = static_cast&lt;quint32&gt;(slot.apc()-&gt;readIntReg(16) &amp; 0xFF);<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;DEBUG_LOG_CONTEXT(QString(&quot;CSERVE 0x%1 called&quot;).arg(function, 2, 16, QChar(\'0\')), &quot;PAL&quot;);<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;\/\/ Set Alpha context for this thread<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;AlphaLogging::setCurrentCpuContext(slot.apc()-&gt;cpuId(), slot.apc()-&gt;getPC());<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;switch (function) {<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;case 0x01: &nbsp;\/\/ GETC<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp;PAL_ENTRY_LOG(&quot;GETC&quot;, slot.apc()-&gt;getPC());<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp;\/\/ ... existing code ...<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp;PAL_EXIT_LOG(&quot;GETC&quot;);<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp; &nbsp;break;<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;}<\/p>\n\r<p class=\"p_Normal\">}<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Step 5: Build and Run LogReader**<\/p>\n\r<p class=\"p_Normal\">```bash<\/p>\n\r<p class=\"p_Normal\"># CMakeLists.txt for LogReader<\/p>\n\r<p class=\"p_Normal\">find_package(Qt6 REQUIRED COMPONENTS Core Widgets Network)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">add_executable(LogReader LogReader_Complete.cpp)<\/p>\n\r<p class=\"p_Normal\">target_link_libraries(LogReader Qt6::Core Qt6::Widgets Qt6::Network)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># Run LogReader<\/p>\n\r<p class=\"p_Normal\">.\/LogReader<\/p>\n\r<p class=\"p_Normal\"># 1. Set host: localhost, port: 9999<\/p>\n\r<p class=\"p_Normal\"># 2. Click Connect<\/p>\n\r<p class=\"p_Normal\"># 3. Start your emulator<\/p>\n\r<p class=\"p_Normal\"># 4. Watch real-time logs with call-stack visualization!<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## üéØ **USAGE EXAMPLES:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Real-time Development Workflow:**<\/p>\n\r<p class=\"p_Normal\">```bash<\/p>\n\r<p class=\"p_Normal\"># Terminal 1: Start LogReader<\/p>\n\r<p class=\"p_Normal\">.\/LogReader<\/p>\n\r<p class=\"p_Normal\">&gt;&gt;&gt; Connect to localhost:9999<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># Terminal 2: Start Emulator &nbsp;<\/p>\n\r<p class=\"p_Normal\">.\/ASAEmulatr<\/p>\n\r<p class=\"p_Normal\">&gt;&gt;&gt; Network logging enabled on port 9999<\/p>\n\r<p class=\"p_Normal\">&gt;&gt;&gt; LogReader connected<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># In LogReader GUI:<\/p>\n\r<p class=\"p_Normal\">üìÅ PAL<\/p>\n\r<p class=\"p_Normal\"> &nbsp;‚Üí CSERVE 0x01 called (PC=0x20001234)<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;‚Üí getCharFromOPA(0)<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp; &nbsp;‚Üí OPA0: getChar() -&gt; -1 (no data)<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;‚Üê getCharFromOPA returns -1<\/p>\n\r<p class=\"p_Normal\"> &nbsp;‚Üê CSERVE 0x01 returns -1<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">üìÅ Console &nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;‚Üí Client connected from 127.0.0.1:8000<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;‚Üí writeChar(\'&gt;\')<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;‚Üí writeChar(\'&gt;\')<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;‚Üí writeChar(\'&gt;\')<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Enhanced Logging Macros:**<\/p>\n\r<p class=\"p_Normal\">```cpp<\/p>\n\r<p class=\"p_Normal\">\/\/ Use new enhanced macros in your components:<\/p>\n\r<p class=\"p_Normal\">TRACE_FUNCTION_COMPONENT(&quot;Pipeline&quot;); &nbsp;\/\/ Auto call-stack tracking<\/p>\n\r<p class=\"p_Normal\">DEBUG_LOG_CONTEXT(&quot;Instruction fetched&quot;, &quot;IBox&quot;);<\/p>\n\r<p class=\"p_Normal\">MEMORY_ACCESS_LOG(va, pa, 8, &quot;READ&quot;);<\/p>\n\r<p class=\"p_Normal\">PAL_ENTRY_LOG(&quot;DTB_MISS&quot;, pc);<\/p>\n\r<p class=\"p_Normal\">INFO_ALPHA(&quot;SMP&quot;, &quot;CPU1 synchronized&quot;, &quot;kernel&quot;);<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## üìä **LogReader Features:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Real-time Monitoring:**<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Hierarchical View**: Components ‚Üí Functions ‚Üí Call depths<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Call-Stack Visualization**: Indented by call depth &nbsp;<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Color-coded Levels**: TRACE(gray), DEBUG(blue), INFO(green), WARN(orange), ERROR(red), CRITICAL(purple)<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Live Filtering**: Show\/hide components and log levels<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Search**: Find specific messages or functions<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Statistics**: Connection time, message rates, buffer usage<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Development Benefits:**<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Zero-Restart Debugging**: Modify code, see logs instantly<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Call-Stack Tracing**: See exact function call flow<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **PAL Debugging**: Watch PAL entry\/exit with context<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Memory Access Tracing**: See VA‚ÜíPA translations<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Pipeline Visualization**: Watch instruction flow<\/p>\n\r<p class=\"p_Normal\">- ‚úÖ **Performance Monitoring**: Track cycles, instruction counts<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## üéØ **COMPLETION STATUS:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**‚úÖ READY TO USE:** Your logging system is complete and production-ready!<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **What Works Right Now:**<\/p>\n\r<p class=\"p_Normal\">1. **Enhanced logging** with call-stack tracking<\/p>\n\r<p class=\"p_Normal\">2. **TCP network backend** for real-time transmission &nbsp;<\/p>\n\r<p class=\"p_Normal\">3. **LogReader GUI** for live monitoring<\/p>\n\r<p class=\"p_Normal\">4. **Alpha-specific context** tracking<\/p>\n\r<p class=\"p_Normal\">5. **JSON persistence** and export<\/p>\n\r<p class=\"p_Normal\">6. **Component filtering** and search<\/p>\n\r<p class=\"p_Normal\">7. **Statistics and monitoring**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">### **Development Workflow:**<\/p>\n\r<p class=\"p_Normal\">```bash<\/p>\n\r<p class=\"p_Normal\">1. Start LogReader GUI<\/p>\n\r<p class=\"p_Normal\">2. Start your emulator (auto-connects)<\/p>\n\r<p class=\"p_Normal\">3. Watch real-time execution with call-stack depth<\/p>\n\r<p class=\"p_Normal\">4. Filter by component\/level for focused debugging<\/p>\n\r<p class=\"p_Normal\">5. Export logs for analysis<\/p>\n\r<p class=\"p_Normal\">6. Modify code and see changes immediately<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Your logging subsystem is now complete and ready for tonight\'s development session!** üöÄ<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The combination of enhanced logging, real-time network transmission, and the GUI monitor will transform your emulator debugging experience. You\'ll be able to watch PAL calls, memory translations, and device operations in real-time with full call-stack context.<\/p>\n\r"
})
