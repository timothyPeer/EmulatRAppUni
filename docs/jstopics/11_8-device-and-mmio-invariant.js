hmLoadTopic({
hmKeywords:"",
hmTitle:"11.8 Device and MMIO Invariants",
hmDescription:"11.8.1 Asynchronous Devices  Devices operate asynchronously. CPU never blocks on device execution. Completion is interrupt-driven or polled.  Enforced by: IDeviceEmulator::onWr",
hmPrevLink:"11_7-smp-invariants.html",
hmNextLink:"11_9-debugging-and-observabili.html",
hmParentLink:"chapter-11---architectural-inv.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-11---architectural-inv.html\">Chapter 11 - Architectural Invariants<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 11 - Architectural Invariants > 11.8 Device and MMIO Invariants",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">11.8 Device and MMIO Invariants<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.8.1 Asynchronous Devices<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Devices operate asynchronously. CPU never blocks on device execution. Completion is interrupt-driven or polled.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: IDeviceEmulator::onWrite() returns immediately (defers long operations to worker thread via QMetaObject::invokeMethod with Qt::QueuedConnection), device completion signals via IRQPendingState.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.8.2 Synchronous MMIO<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">MMIO access is synchronous. Side effects occur immediately. MMIO is strongly ordered.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: MMIOManager::handleRead()\/handleWrite() dispatch directly to device handler function pointers (ReadFn\/WriteFn) during EX stage. No buffering, no speculation, no deferral.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.8.3 DMA Rules<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">DMA operates on GuestMemory. DMA obeys access permissions. DMA completion does not imply ordering without barriers.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: DMACoherencyManager handles cache flush\/invalidate (TX: flush before device reads, RX: invalidate after device writes), breakReservationsOnCacheLine() on DMA writes, no implicit ordering from DMA completion to CPU instruction stream.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-10---devices-and-mmio.html\" class=\"topiclink\">Chapter 10 â€“ Devices and Memory-Mapped I\/O (MMIO)<\/a>.<\/span><\/p>\n\r"
})
