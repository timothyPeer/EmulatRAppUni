hmLoadTopic({
hmKeywords:"",
hmTitle:"7.13 Summary",
hmDescription:"The EMulatR exception system provides precise, deterministic exception handling that matches Alpha AXP architectural requirements.",
hmPrevLink:"chapter-11-interaction-with-se.html",
hmNextLink:"chapter-8---pal-and-privleged-.html",
hmParentLink:"chapter-7---interrupt-and-ipi-.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-7---interrupt-and-ipi-.html\">Chapter 7 - Exceptions, Faults, and Interrupts<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 7 - Exceptions, Faults, and Interrupts > 7.13 Summary",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">7.13 Summary<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">The EMulatR exception system provides precise, deterministic exception handling that matches Alpha AXP architectural requirements.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Exception System Inventory<\/span><\/h3>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">FaultDispatcher — central event authority, per-CPU (449 lines)<\/p>\n\r<p class=\"p_Normal\">PendingEvent — unified event structure (420 lines)<\/p>\n\r<p class=\"p_Normal\">ExceptionFactory — event construction helpers (150 lines)<\/p>\n\r<p class=\"p_Normal\">ExceptionClass_EV6 — 32-value exception classification enum<\/p>\n\r<p class=\"p_Normal\">IRQPendingState — per-CPU interrupt tracking with atomic cross-thread safety (378 lines)<\/p>\n\r<p class=\"p_Normal\">InterruptRouter — interrupt routing and IPI dispatch (505 lines)<\/p>\n\r<p class=\"p_Normal\">Total: 1,932 lines across six exception system headers.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Key Takeaways<\/span><\/h3>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">1.<\/span>Faults are synchronous (detected in EX); interrupts are asynchronous (sampled between instructions)<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">2.<\/span>All exceptions are precise — detect-early\/deliver-late model ensures architectural consistency<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">3.<\/span>Detection and delivery are decoupled — FaultDispatcher queues events and controls delivery timing<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">4.<\/span>FaultDispatcher enforces priority and timing — flag-based fast path (eventPending() ~1 cycle), per-CPU, no atomics on hot path<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">5.<\/span>PendingEvent is the universal event structure — carries classification, address context, fault details, interrupt specifics, and SMP metadata<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">6.<\/span>Pipeline flushing ensures consistency — younger slots invalidated, write buffers drained, reservations cleared<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">7.<\/span>PAL mode is the sole privileged handler — enterPalMode() saves context, sets EXC_ADDR, raises IPL to 7, enters kernel mode, flushes pipeline<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">8.<\/span>IRQPendingState provides lock-free interrupt tracking — atomic summary bitmask, per-level source masks, cached highest pending level<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">9.<\/span>Barriers guarantee exception safety — EXCB and TRAPB gate on FaultDispatcher state<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">10.<\/span>SMP events (IPIs, TLB shootdowns) use the same delivery mechanism as device interrupts<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-8---pal-and-privleged-.html\" class=\"topiclink\">Chapter 8 - PAL and Privileged Boundary (next chapter)<\/a>.<\/span><\/p>\n\r"
})
