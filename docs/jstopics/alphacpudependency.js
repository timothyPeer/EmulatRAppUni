hmLoadTopic({
hmKeywords:"",
hmTitle:"AlphaCPU",
hmDescription:"Instruction Semantics CPU-REQ-001: For every LL instruction: Perform load from SafeMemory; Invoke ReservationManager::reserve(cpu, pa). CPU-REQ-002: For every SC instruction: Q",
hmPrevLink:"",
hmNextLink:"",
hmParentLink:"appendix---trait-examples.html",
hmBreadCrumbs:"",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Appendix > Appendix I – Glossary and Acronyms",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">AlphaCPU<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">Instruction Semantics<\/strong><\/p>\n\r<div style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n\r<tr>\n\r<td style=\"vertical-align:top; width:7.1875rem; padding:0; border:none\"><p class=\"p_Normal\">CPU-REQ-001:<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:48.3125rem; padding:0; border:none\"><p class=\"p_Normal\">For every LL instruction: Perform load from SafeMemory; Invoke ReservationManager::reserve(cpu, pa).<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:7.1875rem; padding:0; border:none\"><p class=\"p_Normal\">CPU-REQ-002:<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:48.3125rem; padding:0; border:none\"><p class=\"p_Normal\">For every SC instruction: Query tryStoreConditional() before performing the store.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:7.1875rem; padding:0; border:none\"><p class=\"p_Normal\">CPU-REQ-003:<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:48.3125rem; padding:0; border:none\"><p class=\"p_Normal\">CPU’s IRQ polling (hasPendingInterrupt()) must respect atomic ordering.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">PAL \/ Trap Integration<\/strong><\/p>\n\r<div style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n\r<tr>\n\r<td colspan=\"2\"  style=\"vertical-align:top; width:7.1250rem; padding:0; border:none\"><p class=\"p_Normal\">CPU-REQ-010:<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:48.3750rem; padding:0; border:none\"><p class=\"p_Normal\">PAL handler entry MUST clear reservations.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td colspan=\"2\"  style=\"vertical-align:top; width:7.1250rem; padding:0; border:none\"><p class=\"p_Normal\">CPU-REQ-011:<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:48.3750rem; padding:0; border:none\"><p class=\"p_Normal\">Context switch (switch process) MUST clear reservations.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:7.1250rem; padding:0; border:none\"><p class=\"p_Normal\">CPU-REQ-012:<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:48.3750rem; padding:0; border:none\"><p class=\"p_Normal\">STLB\/WRVPTB\/PTBR changes MUST clear reservations.<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:none\"><br \/>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">PTE - SPAMShardManager<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n\r<tr>\n\r<td style=\"vertical-align:top; width:12.6250rem; padding:0; border:none\"><p class=\"p_Normal\">rendezvous<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:136.0000rem; padding:0; border:none\"><p class=\"p_Normal\">Add per-CPU rendezvous state fields: <\/p>\n\r<p class=\"p_Normal\">std::atomic&lt;bool&gt; inRendezvous;<\/p>\n\r<p class=\"p_Normal\">std::atomic&lt;bool&gt; rendezvousAck;<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">IPI triggers:<\/strong><\/p>\n\r<p class=\"p_Normal\">void sendRendezvousIPI(cpuId);<\/p>\n\r<p class=\"p_Normal\">void broadcastRendezvousIPI();<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">Global rendezvous wait\/release interface<\/strong><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">void waitForAllCPUsInRendezvous();<\/p>\n\r<p class=\"p_Normal\">void releaseRendezvous();<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:12.6250rem; padding:0; border:none\"><p class=\"p_Normal\">ReservationManager<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:136.0000rem; padding:0; border:none\"><p class=\"p_Normal\">executeLL LDx_L (Load-Linked)<\/p>\n\r<p class=\"p_Normal\">executeSC() STx_C (Store-Conditional)<\/p>\n\r<p class=\"p_Normal\">Trap \/ Exception \/ AST \/ Mode change<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:12.6250rem; padding:0; border:none\"><p class=\"p_Normal\">ReservationManager<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:136.0000rem; padding:0; border:none\"><p class=\"p_Normal\">Step 2 of 2. &nbsp;PAL Handler <\/p>\n\r<p class=\"p_Normal\">step 1. PAL:: hostClearReservation(cpuState),<\/p>\n\r<p class=\"p_Normal\">Step 2. ReservationManager::instance().clearReservation(cpuId); &nbsp;Local reservation clear.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:12.6250rem; padding:0; border:none\"><br \/>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:136.0000rem; padding:0; border:none\"><br \/>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; width:12.6250rem; padding:0; border:none\"><br \/>\n\r<\/td>\n\r<td style=\"vertical-align:top; width:136.0000rem; padding:0; border:none\"><br \/>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">AlphaCPU &nbsp;checksPendingASTs from CPU Context, <\/strong><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">if (context.checkPendingAST())<\/p>\n\r<p class=\"p_Normal\"> &nbsp; &nbsp;takeAstTrap();<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">using PAL vector<\/strong><\/p>\n\r<p class=\"p_Normal\">SCB[0x80] = ASTDELIVERY handler<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r"
})
