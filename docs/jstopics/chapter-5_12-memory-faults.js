hmLoadTopic({
hmKeywords:"AccessViolation,ACV_FAULT,ALIGNMENT_FAULT,AlignmentFault,BusError,Delivery,Device,DTBM_DOUBLE,DTBM_SINGLE,Emulator,Ev6Translator,ExceptionHandler,ExceptionModel,ExecuteStage,FaultHandling,FaultOnExecute,FaultOnRead,FaultOnWrite,FaultPending,FaultType,FaultVA,ITMISS,MBox,MemorySystem,MEMStage,MMIO,NonCanonicalAddress,PageNotPresent,PAL,Permission,PhysicalAddress,PipelineFlush,PipelineSlot,Precision,PrivilegeLevel,ProgramCounter,Speculation,TLBMiss,TranslationFault,TrapCode,WBStage",
hmTitle:"5.12 Memory Faults",
hmDescription:"The memory system may generate the following fault types:",
hmPrevLink:"chapter-5_11-load-locked-_-sto.html",
hmNextLink:"chapter-5_13-interaction-with-.html",
hmParentLink:"chapter-5---memory-system-arch.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-5---memory-system-arch.html\">Chapter 5 - Memory System Architecture<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 5 - Memory System Architecture > 5.12 Memory Faults",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">5.12 Memory Faults<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">The memory system may generate the following fault types:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Alignment faults (ALIGNMENT_FAULT) — VA not naturally aligned for the access width (4-byte for longword, 8-byte for quadword). Detected by MBox in EX stage.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Translation faults — TLB miss (DTBM_SINGLE, DTBM_DOUBLE for data; ITMISS for instruction), page not present, non-canonical address. Detected by Ev6Translator during VA→PA translation.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Access violations (ACV_FAULT) — permission check failed for the current access mode (read\/write\/execute) and privilege level. Detected by the page table entry permission check.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Fault on read\/write\/execute — page table entry flags indicate the access should fault, even though the page is present (used by OS for copy-on-write, demand paging, etc.).<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Bus errors — physical address does not route to any valid subsystem (unmapped PA region).<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>MMIO device faults — device emulator reports an error for the access.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Fault handling follows the precise exception model:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">1.<\/span>Fault detected in EX stage — MBox or Ev6Translator sets slot.faultPending = true, slot.trapCode, and slot.faultVA<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">2.<\/span>Fault queued in the pipeline slot — the slot continues flowing through MEM<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">3.<\/span>Fault delivered in WB — the pipeline checks faultPending, flushes younger instructions, saves the faulting PC, and transfers control to the PAL exception handler<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Memory faults are never speculative. A fault detected in EX is guaranteed to be delivered precisely.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-7---interrupt-and-ipi-.html\" class=\"topiclink\">Chapter 7 - Exceptions, Faults, and Interrupts<\/a>; <a href=\"chapter-3_15-precise-exception.html\" class=\"topiclink\">3.14 Precise Exceptions<\/a>.<\/span><\/p>\n\r"
})
