hmLoadTopic({
hmKeywords:"",
hmTitle:"22.2 Layered Validation Strategy",
hmDescription:"Validation is structured in five layers, each with a clear responsibility and escalating scope. Tests at each layer must pass before the next layer is meaningful.",
hmPrevLink:"22_1-definition-of-correctness.html",
hmNextLink:"22_3-determinism-as-a-validati.html",
hmParentLink:"chapter-22---testing_-validati.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-22---testing_-validati.html\">Chapter 22 – Testing, Validation, and Architectural Compliance<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 22 – Testing, Validation, and Architectural Compliance > 22.2 Layered Validation Strategy",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">22.2 Layered Validation Strategy<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">Validation is structured in five layers, each with a clear responsibility and escalating scope. Tests at each layer must pass before the next layer is meaningful.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">22.2.1 Layer 1 — Unit Validation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Verifies correctness of individual components in isolation. Targets include instruction grains, register banks, floating-point operations, address translation helpers, and LL\/SC reservation logic. Methods use deterministic inputs with expected architectural outputs and exhaustive edge-case coverage. Unit tests must be independent of pipeline timing — they test component semantics, not scheduling behavior.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">22.2.2 Layer 2 — Instruction-Level Validation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Verifies instruction semantics in isolation. Targets cover all instruction categories: integer instructions, floating-point instructions, memory instructions, branch and control instructions, and PAL instructions. Validation criteria: correct result values, correct flag behavior, correct exception generation (each instruction that should fault does fault, each instruction that should not does not), and correct side effects (memory writes, register modifications, reservation changes). PAL instructions are validated separately for privileged and unprivileged function ranges.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">22.2.3 Layer 3 — Pipeline and Ordering Validation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Verifies interaction between instructions within the pipeline. Targets include hazard handling (data hazards, structural hazards), stall and release behavior (correct stall cycles, correct release conditions), barrier enforcement (MB, WMB, EXCB, TRAPB serialization semantics), and exception precision (faulting instruction identified exactly, no younger instruction commits). Methods: synthetic instruction sequences designed to exercise specific pipeline states, forced stalls via deliberately constructed dependency chains, deliberate fault injection to test precise delivery, and barrier stress tests that interleave barriers with memory operations.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">22.2.4 Layer 4 — SMP Validation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Verifies multi-CPU correctness. Targets: LL\/SC behavior under contention (multiple CPUs contending on the same cache line), TLB shootdown correctness (no stale entries survive), inter-processor interrupt handling (delivery, acknowledgment, ordering), and memory visibility guarantees (store visibility across CPUs after barriers). Methods: deterministic SMP workloads with known expected outcomes, artificial contention patterns that exercise worst-case reservation behavior, and repeatable race scenarios using deterministic scheduling mode. SMP correctness is proven through repetition and determinism, not probability — a test that passes only &quot;most of the time&quot; is a failing test.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">22.2.5 Layer 5 — System-Level Validation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Validates full-system behavior. Targets: PAL entry\/exit correctness across all PalEntryReason paths, interrupt delivery through the complete IRQPendingState → checkInterrupts → PalService → HW_REI chain, device and DMA interaction (MMIO ordering, DMA completion visibility), and console services (CSERVE selector dispatch, SRM environment variables). Methods: controlled boot sequences (Phase 0 through SRM &gt;&gt;&gt; prompt), diagnostic Alpha assembly programs (e.g., <span class=\"f_CodeExample\">test_cserve_env.s<\/span>), and long-running stress tests that exercise the full execution stack over millions of cycles.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"alphapipeline-implementation.html\" class=\"topiclink\">Chapter 13 – AlphaPipeline Implementation<\/a> &nbsp;(pipeline behavior under test); <a href=\"chapter9-smparchitecture.html\" class=\"topiclink\">Chapter 9 - SMP Architecture<\/a> (SMP validation targets).<\/span><\/p>\n\r"
})
