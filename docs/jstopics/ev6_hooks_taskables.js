hmLoadTopic({
hmKeywords:"",
hmTitle:"EV6_Hooks_Taskables",
hmDescription:"Absolutely ‚Äî here is a **fully structured, facility-level system-side-effect checklist** for **EV6_Hooks**, matching the exact format you approved for ReservationManager.",
hmPrevLink:"",
hmNextLink:"",
hmParentLink:"appendix---trait-examples.html",
hmBreadCrumbs:"",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Appendix > Appendix I ‚Äì Glossary and Acronyms",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">EV6_Hooks_Taskables<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">Absolutely ‚Äî here is a **fully structured, facility-level system-side-effect checklist** for **EV6_Hooks**, matching the exact format you approved for ReservationManager.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">This document is **ready for copy\/paste into your documentation**, and it gives you a *complete architectural map* of what EV6_Hooks is responsible for, what subsystems it interacts with, and which downstream effects must be implemented inside other modules (CSII, IRQController, PAL, IPR, HWPCB, AlphaCPU).<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Everything below is derived directly from the uploaded file:<\/p>\n\r<p class=\"p_Normal\">**EV6_Hooks.h** ‚Üí <\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># ‚úÖ **System Side-Effect Checklist (SSEC)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **Facility:** `EV6_Hooks`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **Purpose:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">EV6_Hooks implements the architecture-specific behavior for EV6 IPRs (Internal Processor Registers).<\/p>\n\r<p class=\"p_Normal\">These hooks run during:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* PALcode IPR writes\/reads<\/p>\n\r<p class=\"p_Normal\">* AST behavior<\/p>\n\r<p class=\"p_Normal\">* IPL promotion\/demotion<\/p>\n\r<p class=\"p_Normal\">* Exception summary updates<\/p>\n\r<p class=\"p_Normal\">* Translation subsystem interactions<\/p>\n\r<p class=\"p_Normal\">* Interrupt eligibility changes<\/p>\n\r<p class=\"p_Normal\">* Mode transitions (CM \/ PS)<\/p>\n\r<p class=\"p_Normal\">* TLB behavior (via MM_STAT, VA, EXC_ADDR etc.)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">This module does **not own state**; rather, it coordinates updates to:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* CPUStateIPRInterface (CSII)<\/p>\n\r<p class=\"p_Normal\">* IPRBank<\/p>\n\r<p class=\"p_Normal\">* HWPCB Bank<\/p>\n\r<p class=\"p_Normal\">* IRQController<\/p>\n\r<p class=\"p_Normal\">* ReservationManager<\/p>\n\r<p class=\"p_Normal\">* EV6 TLB\/PTE subsystem<\/p>\n\r<p class=\"p_Normal\">* AlphaCPU (for exception, trap, interrupt pending state changes)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># üî∑ **A. Internal Operations (performed by EV6_Hooks)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">EV6_Hooks defines routines for updating architectural registers:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">| Step | Operation &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Description &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Must Trigger &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| ---- | ----------------------------- | --------------------------------------- | ---------------------------- |<\/p>\n\r<p class=\"p_Normal\">| A1 &nbsp; | Update CM (Current Mode) &nbsp; &nbsp; &nbsp;| Implements EV6 CM Write semantics &nbsp; &nbsp; &nbsp; | Mode change callbacks &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| A2 &nbsp; | Update IPL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Handles SIRR and IER interactions &nbsp; &nbsp; &nbsp; | Recalc interrupt priority &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| A3 &nbsp; | Update ASTER\/ASTRR\/ASTEN &nbsp; &nbsp; &nbsp;| Manages AST subsystem control registers | AST pending state update &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| A4 &nbsp; | Update EXC_ADDR &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Reflects exception address handling &nbsp; &nbsp; | Exception tracking &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| A5 &nbsp; | Update EXC_SUM &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Hardware exception summary &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Exception decode + IRQ &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| A6 &nbsp; | Update VA register &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Required by ITB reload PALcode &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| MM_STAT update &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| A7 &nbsp; | Update MM_STAT &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Tracks TLB miss type &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Permissible to trigger traps |<\/p>\n\r<p class=\"p_Normal\">| A8 &nbsp; | Manage TB_TAG \/ TB_PTE writes | Supports PAL ITB\/DTB operations &nbsp; &nbsp; &nbsp; &nbsp; | TLB insert\/update actions &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># üî∑ **B. External Events Affecting EV6_Hooks**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">| Step | External Source &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Event &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Expected Response in EV6_Hooks &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| ---- | ------------------------ | -------------------------- | ---------------------------------------- |<\/p>\n\r<p class=\"p_Normal\">| B1 &nbsp; | CPUStateIPRInterface &nbsp; &nbsp; | IPR write by PAL or kernel | Call correct EV6_Hook handler &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| B2 &nbsp; | AlphaCPU &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Exception or trap &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Update EXC_ADDR, EXC_SUM &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| B3 &nbsp; | IRQController &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| IPL change &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Influence AST &amp; EXC delivery &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| B4 &nbsp; | MMIOManager \/ SafeMemory | Memory exceptions &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Update EXC_SUM &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| B5 &nbsp; | PTE\/TLB (Ev6PteCache) &nbsp; &nbsp;| TLB miss behavior &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Set MM_STAT values &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| B6 &nbsp; | PAL Executor &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | TBIS\/TBIA\/TBIAP &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Invoke TLB invalidation paths &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| B7 &nbsp; | HWPCB operations &nbsp; &nbsp; &nbsp; &nbsp; | Context switch &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Reset AST, CM, PS, VA fields as required |<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># üî∑ **C. Downstream Effects (side effects caused by EV6_Hooks)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> ‚ö† EV6_Hooks calls into multiple subsystems, and *these calls must exist* as stubs or full implementations.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">| Step | Subsystem &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Condition &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Must Call &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| ---- | ------------------------ | ------------------------------------ | ------------------------------------------------------------------------------------------- |<\/p>\n\r<p class=\"p_Normal\">| C1 &nbsp; | **CPUStateIPRInterface** | Mode change, CM write &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| `onModeChange()`, `manageShadowBanks()`, `flushSpeculativeState()` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| C2 &nbsp; | **CPUStateIPRInterface** | Exception registers updated &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| `updateExceptionState()`, `evaluateExceptionSummary()` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| C3 &nbsp; | **CPUStateIPRInterface** | AST subsystem changes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| `requestAST()`, `checkPendingAST()` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| C4 &nbsp; | **CPUStateIPRInterface** | Interrupt eligibility change &nbsp; &nbsp; &nbsp; &nbsp; | `notifyModeChangeAffectsInterruptEligibility()` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| C5 &nbsp; | **IRQController** &nbsp; &nbsp; &nbsp; &nbsp;| IPL changes, SIRR writes, IER writes | `setCPUIpl()`, `setInterruptEnableMask()`, `checkPendingInterrupts()`, `deliverInterrupt()` |<\/p>\n\r<p class=\"p_Normal\">| C6 &nbsp; | **Ev6PteCache** &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TB_TAG\/TB_PTE writes, MM_STAT writes | `invalidateVA()`, `insertTLBEntry()`, `updateTLBState()` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| C7 &nbsp; | **IPRBank** &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| IPR changes from hooks &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Update backing IPR register values &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| C8 &nbsp; | **HWPCBBank** &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| ASTEN\/ASTER\/ASTRR updates &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Modify HWPCB context state &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">| C9 &nbsp; | **ReservationManager** &nbsp; | Mode changes, traps &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| `clearReservation(cpu)` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<\/p>\n\r<p class=\"p_Normal\">| C10 &nbsp;| **AlphaCPU** &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Interrupt\/trap requests &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| `takeInterrupt()`, `signalException()` &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">This is the exact set of ‚Äúunimplemented \/ TODO‚Äù calls your compiler errors are pointing to.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># üî∑ **D. Specific Function Responsibilities in EV6_Hooks (Required Implementations)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Below is a breakdown of each function in EV6_Hooks from the uploaded file, and what its *intended* behavior is.<\/p>\n\r<p class=\"p_Normal\">This is your master reference.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **1. CM (Current Mode) Handler**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onCM_Write)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Change mode ‚Üí K, E, S, U.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update CM in IPRBank<\/p>\n\r<p class=\"p_Normal\">* Inform CSII:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `onModeChange()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `manageShadowBanks()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `flushSpeculativeState()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `notifyModeChangeAffectsInterruptEligibility()`<\/p>\n\r<p class=\"p_Normal\">* Possibly drop reservations (depends on mode rules)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Missing Methods Needed:**<\/p>\n\r<p class=\"p_Normal\">‚úî `CPUStateIPRInterface::onModeChange()`<\/p>\n\r<p class=\"p_Normal\">‚úî `CPUStateIPRInterface::manageShadowBanks()`<\/p>\n\r<p class=\"p_Normal\">‚úî `CPUStateIPRInterface::flushSpeculativeState()`<\/p>\n\r<p class=\"p_Normal\">‚úî `CPUStateIPRInterface::notifyModeChangeAffectsInterruptEligibility()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **2. SIRR (Software Interrupt Request Register)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onSIRRWrite)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Write SIRR ‚Üí modify IPL<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update IPL<\/p>\n\r<p class=\"p_Normal\">* Call IRQController:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `setCPUIpl()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `checkPendingInterrupts()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `deliverInterrupt()`<\/p>\n\r<p class=\"p_Normal\">* Evaluate AST if needed<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Missing Methods Needed:**<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::setCPUIpl()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::checkPendingInterrupts()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::deliverInterrupt()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **3. IER (Interrupt Enable Register)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onIER_Write)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Modify interrupt mask.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update IRQ controller mask<\/p>\n\r<p class=\"p_Normal\">* Recalculate interrupt priorities<\/p>\n\r<p class=\"p_Normal\">* Check pending interrupts<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Missing Methods Needed:**<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::setInterruptEnableMask()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::recalculateInterruptPriorities()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::checkPendingInterrupts()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::deliverInterrupt()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **4. AST Subsystem**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onPCTX_ASTERWrite \/ onPCTX_ASTRRWrite)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Controls asynchronous system traps.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update ASTER \/ ASTRR in HWPCB<\/p>\n\r<p class=\"p_Normal\">* Tell CSII:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `requestAST()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `checkPendingAST()`<\/p>\n\r<p class=\"p_Normal\">* Tell IRQController:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `requestAST()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `checkPendingAST()`<\/p>\n\r<p class=\"p_Normal\">* AST summary interaction with IPL + Interrupt logic<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Missing Methods Needed:**<\/p>\n\r<p class=\"p_Normal\">‚úî `CPUStateIPRInterface::requestAST()`<\/p>\n\r<p class=\"p_Normal\">‚úî `CPUStateIPRInterface::checkPendingAST()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::requestAST()`<\/p>\n\r<p class=\"p_Normal\">‚úî `IRQController::checkPendingAST()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **5. EXC_ADDR**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onEXC_ADDR_Write)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Update exception address register.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update IPRBank<\/p>\n\r<p class=\"p_Normal\">* Notify CSII:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `updateExceptionState()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `notifyExceptionAddressChanged()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Missing CSII Methods:**<\/p>\n\r<p class=\"p_Normal\">‚úî `updateExceptionState()`<\/p>\n\r<p class=\"p_Normal\">‚úî `notifyExceptionAddressChanged()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **6. EXC_SUM**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onEXC_SUM_Write)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Track EV6 exception summary bits.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Call CSII:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `evaluateExceptionSummary()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `isHardwareErrorPresent()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `triggerMachineCheck()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `attemptErrorRecovery()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `shouldGenerateExceptionInterrupt()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `generateExceptionInterrupt()`<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `logExceptionSummaryChange()`<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Missing CSII Methods:**<\/p>\n\r<p class=\"p_Normal\">‚úî All 6 above<\/p>\n\r<p class=\"p_Normal\">(Currently missing from CPUStateIPRInterface)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **7. VA (Virtual Address)**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onVA_Write)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">Helps PAL ITB miss handling.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update IPRBank<\/p>\n\r<p class=\"p_Normal\">* Notify CSII:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `updateVA()` (not currently defined)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">## **8. MM_STAT**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">*(onMMSTAT_Write)*<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Purpose:**<\/p>\n\r<p class=\"p_Normal\">IME, DME, ACV, TNV TLB miss type encoding.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">**Must do:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">* Update IPRBank<\/p>\n\r<p class=\"p_Normal\">* Notify CSII:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> &nbsp;* `updateMMStat()` (not currently defined)<\/p>\n\r<p class=\"p_Normal\">* Possibly interact with PTE subsystem depending on miss reason<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># üî∑ **E. Summary of Required New Methods by Class**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">This solves your ‚Äú~200 missing functions‚Äù problem.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **CPUStateIPRInterface ‚Äî Needs 20+ new stubs:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">onModeChange()<\/p>\n\r<p class=\"p_Normal\">manageShadowBanks()<\/p>\n\r<p class=\"p_Normal\">flushSpeculativeState()<\/p>\n\r<p class=\"p_Normal\">notifyModeChangeAffectsInterruptEligibility()<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">requestAST()<\/p>\n\r<p class=\"p_Normal\">checkPendingAST()<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">updateExceptionState()<\/p>\n\r<p class=\"p_Normal\">notifyExceptionAddressChanged()<\/p>\n\r<p class=\"p_Normal\">evaluateExceptionSummary()<\/p>\n\r<p class=\"p_Normal\">isHardwareErrorPresent()<\/p>\n\r<p class=\"p_Normal\">triggerMachineCheck()<\/p>\n\r<p class=\"p_Normal\">attemptErrorRecovery()<\/p>\n\r<p class=\"p_Normal\">shouldGenerateExceptionInterrupt()<\/p>\n\r<p class=\"p_Normal\">generateExceptionInterrupt()<\/p>\n\r<p class=\"p_Normal\">logExceptionSummaryChange()<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">updateVA() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;-- new<\/p>\n\r<p class=\"p_Normal\">updateMMStat() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;-- new<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **IRQController ‚Äî Needs 6 new stubs:**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">setCPUIpl()<\/p>\n\r<p class=\"p_Normal\">checkPendingInterrupts()<\/p>\n\r<p class=\"p_Normal\">deliverInterrupt()<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">setInterruptEnableMask()<\/p>\n\r<p class=\"p_Normal\">recalculateInterruptPriorities()<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">requestAST()<\/p>\n\r<p class=\"p_Normal\">checkPendingAST()<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **IPRBank ‚Äî Must expose fields for EXC_ADDR, EXC_SUM, VA, MM_STAT**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">You largely have these.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **HWPCBBank ‚Äî Must expose ASTER, ASTEN, ASTRR, ASTSR**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Again, you have these fields; the hooks need indexing helpers.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **Ev6PteCache ‚Äî Needed indirectly for MM_STAT and TB_TAG, TB_PTE**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">May require:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">recordMissType()<\/p>\n\r<p class=\"p_Normal\">syncMMStat()<\/p>\n\r<p class=\"p_Normal\">invalidateVA()<\/p>\n\r<p class=\"p_Normal\">```<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"># üéâ **Final Notes**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">You now have:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">‚úî A complete **side-effect checklist** for EV6_Hooks<\/p>\n\r<p class=\"p_Normal\">‚úî A mapping of **every missing function**<\/p>\n\r<p class=\"p_Normal\">‚úî A list of **which class must implement** each missing callback<\/p>\n\r<p class=\"p_Normal\">‚úî A roadmap that allows you to cleanly remove all 200 compiler errors<\/p>\n\r<p class=\"p_Normal\">‚úî A structure matching the ReservationManager document you approved<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">---<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">If you want, I can next generate:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **Option A** ‚Äî A complete stubbed `CPUStateIPRInterface` containing all missing methods.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **Option B** ‚Äî A complete stubbed set of additions for `IRQController`.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"> **Option C** ‚Äî A fully rewritten `EV6_Hooks.h` with all TODO functions mapped and commented.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Just tell me:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">‚û° **‚ÄúGenerate Option A‚Äù**, or<\/p>\n\r<p class=\"p_Normal\">‚û° **‚ÄúGenerate Option B‚Äù**, or<\/p>\n\r<p class=\"p_Normal\">‚û° **‚ÄúGenerate Option C.‚Äù**<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r"
})
