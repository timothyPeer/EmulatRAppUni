hmLoadTopic({
hmKeywords:"AddressComputation,API,ArchitecturalDrift,ArchitecturalState,Boundary,BranchPredictor,Bug,CBox,Communication,Computation,Coordination,Correctness,Cycle,Domain,DTB,EBox,Emulator,Ev6Translator,FaultDispatcher,FPCR,FPRegisterFile,Frontend,GrainResolver,GuestMemory,IBox,Interaction,InterruptRouter,Invariant,IRQPendingState,ITB,MBox,Meaning,MemoryAccess,MemoryBarrierCoordinator,MemoryIO,MemoryOperation,mmio_Manager,Ordering,PalBox,PalService,Pipeline,PipelineSlot,Register,RegisterFile,ReservationManager,Result,Rule,Serialization,Subsystem,Tick,Timing,Violation,Visibility,WriteBufferManager",
hmTitle:"4.10 Cross-Box Interaction Rules",
hmDescription:"To prevent architectural drift, the emulator enforces strict interaction rules. These rules are non-negotiable architectural invariants. Violating any of these rules introduces...",
hmPrevLink:"chapter-4_9-palbox---privilege.html",
hmNextLink:"chapter-4_11-summary.html",
hmParentLink:"chapter-4---functionexecution-.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-4---functionexecution-.html\">Chapter 4 - Functional Execution Domains (&quot;Boxes)<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 4 - Functional Execution Domains (\"Boxes) > 4.10 Cross-Box Interaction Rules",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">4.10 Cross-Box Interaction Rules<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">To prevent architectural drift, the emulator enforces strict interaction rules. These rules are non-negotiable architectural invariants. Violating any of these rules introduces subtle correctness bugs.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">Normative Rules<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">1.<\/span>IBox never mutates architectural state — it is purely front-end<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">2.<\/span>EBox never performs memory I\/O — all memory operations route through MBox<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">3.<\/span>MBox never decides ordering — ordering semantics are exclusively CBox\'s domain<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">4.<\/span>CBox never computes values — it manages ordering, visibility, and serialization<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">5.<\/span>PalBox always serializes — CALL_PAL is always a serialization boundary<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">6.<\/span>Pipeline controls timing; Boxes control meaning — Boxes never advance the pipeline or own cycles<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">Communication Rules<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Boxes do not own architectural state — state lives in the pipeline slot, register files, and shared subsystems<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Boxes do not call the pipeline — they write results to the slot and return<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Boxes do not advance cycles — the pipeline\'s tick() method controls time<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Boxes do not communicate implicitly — all cross-domain coordination happens through pipeline slots, shared subsystems (GuestMemory, ReservationManager), or explicit APIs<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Boxes do not call other Boxes directly — unless explicitly allowed (e.g., a grain may call both EBox for address computation and MBox for the memory access)<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">Box Dependency Summary<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">IBox → GuestMemory (fetch), Ev6Translator (ITB), GrainResolver (decode)<\/p>\n\r<p class=\"p_Normal\">EBox → Register files (read\/write via slot), FaultDispatcher (exception signaling)<\/p>\n\r<p class=\"p_Normal\">FBox → FP register files (read\/write via slot), FPCR (FP control register)<\/p>\n\r<p class=\"p_Normal\">MBox → GuestMemory (load\/store), Ev6Translator (DTB), ReservationManager (LL\/SC)<\/p>\n\r<p class=\"p_Normal\">CBox → WriteBufferManager (drain), MemoryBarrierCoordinator (SMP), BranchPredictor, mmio_Manager<\/p>\n\r<p class=\"p_Normal\">PalBox → PalService (PAL call implementation), IRQPendingState (interrupts), InterruptRouter<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-11---architectural-inv.html\" class=\"topiclink\">Chapter 11 - Architectural Invariants<\/a>; <a href=\"chapter-14---execution-domains.html\" class=\"topiclink\">Chapter 14 – Execution Domains (“Boxes”)<\/a>.<\/span><\/p>\n\r"
})
