hmLoadTopic({
hmKeywords:"Acknowledgment,CBox,CBoxState,Consistency,Coordination,CPU,Drain,Enforcement,GlobalBarrier,Invalidation,IPI,issueMemoryBarrier,LocalBuffer,MB,MemoryBarrierCoordinator,MemoryBarrierKind,MemoryView,Observation,Ordering,PAL,Release,Reordering,RequestMemoryBarrier,RUNNING,Serialization,SERIALIZING,SMP,Specification,StateMachine,TLB,WMB,WriteBuffer",
hmTitle:"6.13 Serialization in SMP Systems",
hmDescription:"In EMulatR SMP configurations, serialization has cross-CPU implications:",
hmPrevLink:"chapter-6_12-interaction-with-.html",
hmNextLink:"chapter-6_15-summary.html",
hmParentLink:"chapter-6---serialization-and-.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-6---serialization-and-.html\">Chapter 6 - Serialization and Stall Model<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 6 - Serialization and Stall Model > 6.13 Serialization in SMP Systems ",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">6.13 Serialization in SMP Systems<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">In EMulatR SMP configurations, serialization has cross-CPU implications:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Each CPU has local write buffers — MB\/WMB drain the local buffer first<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>MB may require global coordination — CBox::RequestMemoryBarrier() forwards to the global MemoryBarrierCoordinator, which may send IPIs to all other CPUs<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>WMB is local only — it drains the local write buffer without global coordination, making it significantly cheaper than MB<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>PAL serialization coordinates globally — issueMemoryBarrier() with MemoryBarrierKind::PAL initiates a global barrier and waits for all CPU acknowledgments<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>IPIs may be used to enforce ordering — cross-CPU TLB invalidations, barrier acknowledgments<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>CBox state machine — transitions from RUNNING to SERIALIZING during barrier processing, back to RUNNING on release<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Barriers ensure that all CPUs converge to a consistent memory view. Without barriers, CPUs may observe memory changes from other CPUs in any order — this is by design and matches the Alpha AXP specification.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-5_14-smp-consideration.html\" class=\"topiclink\">5.14 SMP Considerations<\/a>; <a href=\"chapter9-smparchitecture.html\" class=\"topiclink\">Chapter 9 - SMP Architecture<\/a>.<\/span><\/p>\n\r"
})
