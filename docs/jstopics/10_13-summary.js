hmLoadTopic({
hmKeywords:"",
hmTitle:"10.13 Summary",
hmDescription:"The EMulatR device and MMIO subsystem provides a strongly ordered, interrupt-driven device model that matches Alpha AXP hardware behavior.",
hmPrevLink:"10_12-smp-and-error-handling.html",
hmNextLink:"chapter-11---architectural-inv.html",
hmParentLink:"chapter-10---devices-and-mmio.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-10---devices-and-mmio.html\">Chapter 10 – Devices and Memory-Mapped I\/O (MMIO)<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 10 – Devices and Memory-Mapped I\/O (MMIO) > 10.13 Summary",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">10.13 Summary<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">The EMulatR device and MMIO subsystem provides a strongly ordered, interrupt-driven device model that matches Alpha AXP hardware behavior.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Device System Inventory<\/span><\/h3>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">MMIOManager — MMIO dispatch engine, region table, handler routing (114 lines)<\/p>\n\r<p class=\"p_Normal\">IDeviceEmulator — abstract device interface, lifecycle and MMIO contract (266 lines)<\/p>\n\r<p class=\"p_Normal\">mmio_core — MMIOStatus enum (15 values), mmio_DeviceClass enum (15 classes), MMIOWindow struct, allocation\/degradation types (405 lines)<\/p>\n\r<p class=\"p_Normal\">mmio_structs — supporting MMIO data structures (82 lines)<\/p>\n\r<p class=\"p_Normal\">DeviceCatalog — template database, PCI ID lookup, class defaults (130 lines)<\/p>\n\r<p class=\"p_Normal\">DeviceTemplate — complete device specification with PCI identity, BAR\/IRQ requirements, DMA capabilities (208 lines)<\/p>\n\r<p class=\"p_Normal\">DMACoherencyManager — DMA cache coherency, LL\/SC invalidation, SMP coordination (579 lines)<\/p>\n\r<p class=\"p_Normal\">Total: 1,784 lines across seven MMIO\/device headers.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Key Takeaways<\/span><\/h3>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">1.<\/span>MMIO is strongly ordered — no reordering, no buffering, no speculation, writes bypass write buffer<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">2.<\/span>Devices are asynchronous — MMIO commands trigger work; completion signals via interrupts<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">3.<\/span>MMIO access is synchronous — completes in EX stage, pipeline may stall, result returned immediately<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">4.<\/span>IDeviceEmulator defines the device contract — initialize, onRead, onWrite, onReset, onFence<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">5.<\/span>MMIOManager routes by physical address — function-pointer handlers for maximum performance<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">6.<\/span>DeviceCatalog provides template-based device registration — PCI ID, class, and custom key lookups<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">7.<\/span>DMA operates on GuestMemory — DMACoherencyManager handles cache coherency and LL\/SC invalidation<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">8.<\/span>PAL mediates privileged device control — all device interrupts enter PAL<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">9.<\/span>SMP devices are globally visible — concurrent vCPU access, device provides internal locking<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 1.2500rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"display:inline-block;width:1.2500rem;margin-left:-1.2500rem\">10.<\/span>Degraded devices are tracked, not fatal — system boots with reduced functionality<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-11---architectural-inv.html\" class=\"topiclink\">Chapter 11 - Architectural Invariants( next chapter)<\/a>.<\/span><\/p>\n\r"
})
