hmLoadTopic({
hmKeywords:"",
hmTitle:"17.2 PTE Representation",
hmDescription:"17.2.1 AlphaPTE – Canonical Structure  The AlphaPTE struct (pteLib\/alpha_pte_core.h) represents the canonical Page Table Entry format. It provides bit-level accessors for the...",
hmPrevLink:"17_1-alpha-virtual-address-for.html",
hmNextLink:"17_3-translation-path.html",
hmParentLink:"chapter-17---tlb_-pte_-and-add.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-17---tlb_-pte_-and-add.html\">Chapter 17 – Address Translation, TLB, and PTE<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 17 – Address Translation, TLB, and PTE > 17.2 PTE Representation",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">17.2 PTE Representation<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">17.2.1 AlphaPTE – Canonical Structure<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The <span class=\"f_CodeExample\">AlphaPTE<\/span> struct (<span class=\"f_CodeExample\">pteLib\/alpha_pte_core.h<\/span>) represents the canonical Page Table Entry format. It provides bit-level accessors for the architectural PTE fields:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0; border-collapse:collapse;\">\n\r<thead>\n\r<tr>\n\r<th style=\"vertical-align:top; background-color:#00FFFF; padding:0; border:solid thin #000000;\" scope=\"col\"><p class=\"p_Normal\"><span style=\"font-weight: bold;\">Field<\/span><\/p>\n\r<\/th>\n\r<th style=\"vertical-align:top; background-color:#00FFFF; padding:0; border:solid thin #000000;\" scope=\"col\"><p class=\"p_Normal\"><span style=\"font-weight: bold;\">Meaning<\/span><\/p>\n\r<\/th>\n\r<\/tr>\n\r<\/thead>\n\r<tbody>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">V<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Valid — entry is active<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">FOE<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Fault on Execute<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">FOW<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Fault on Write<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">FOR<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Fault on Read<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">ASM<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Address Space Match (global — matches all ASNs)<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">GH<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Granularity Hint (superpage support)<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">KRE \/ KWE<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Kernel Read Enable \/ Kernel Write Enable<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">URE \/ UWE<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">User Read Enable \/ User Write Enable<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">PFN<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Page Frame Number (physical address &gt;&gt; pageShift)<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><br \/>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><br \/>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><br \/>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><br \/>\n\r<\/td>\n\r<\/tr>\n\r<\/tbody>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The permission model compresses Executive (E) and Supervisor (S) modes into Kernel (K) mode for implementation simplicity. <span class=\"f_CodeExample\">AlphaPTE<\/span> provides higher-level accessors and mutators for permissions and PFN.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">17.2.2 PTETraits – Generation-Specific Adaptation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The <span class=\"f_CodeExample\">PTETraits<\/span> template (<span class=\"f_CodeExample\">pteLib\/alpha_pte_traits.h<\/span>) adapts the canonical <span class=\"f_CodeExample\">AlphaPTE<\/span> to the specific PTE layouts used by each Alpha generation (EV4, EV5, EV6). It provides static methods for decoding and encoding between the canonical form and the generation-specific IPR (Internal Processor Register) formats.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Key responsibilities: extract the virtual address from IPR tag registers (ITB_TAG, DTB_TAG), decode IPR write-format PTE images into <span class=\"f_CodeExample\">AlphaPTE<\/span>, and encode <span class=\"f_CodeExample\">AlphaPTE<\/span> into IPR read-format PTE images.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Specializations for EV6: <span class=\"f_CodeExample\">alpha_pte_traits_ev6_itb.h<\/span> handles ITB PTE encoding\/decoding, and <span class=\"f_CodeExample\">alpha_pte_traits_ev6_dtb.h<\/span> handles DTB PTE encoding\/decoding. The ITB and DTB have different PTE layouts on EV6, requiring separate trait specializations.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">17.2.3 PTEView – Trait-Based Accessor Wrapper<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><span class=\"f_CodeExample\">PTEView<\/span> (<span class=\"f_CodeExample\">pteLib\/alpha_pte_view.h<\/span>) provides a convenient interface for working with PTEs using trait-based accessors. It wraps an <span class=\"f_CodeExample\">AlphaPTE<\/span> and forwards queries to the appropriate <span class=\"f_CodeExample\">PTETraits<\/span> methods based on the Alpha generation. Accessors include validity, global flag, PFN, page shift, and protection flags. Mutators include set validity, global flag, PFN, and protection. <span class=\"f_CodeExample\">PTEView<\/span> allows higher layers (MBox, PAL) to work with PTEs without knowing which generation-specific encoding is in use.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: pteLib\/alpha_pte_core.h – AlphaPTE struct; pteLib\/alpha_pte_traits.h – PTETraits template; pteLib\/alpha_pte_traits_ev6_itb.h – EV6 ITB traits; pteLib\/alpha_pte_traits_ev6_dtb.h – EV6 DTB traits; pteLib\/alpha_pte_view.h – PTEView wrapper.<\/span><\/p>\n\r"
})
