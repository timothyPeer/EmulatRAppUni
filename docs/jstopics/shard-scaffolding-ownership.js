hmLoadTopic({
hmKeywords:"Alpha AXP,AlphaCPU,broadcast invalidation,constructor injection,cpuList,DefaultInvalidationStrategy,DTBInvalidation,DTBManagerType,DTBVictimPolicy,EmulatorManager,Ev6_DtbPteTraits,globalDtbManager,globalItbManager,IPI-based invalidation,ITBInvalidation,ITBManagerType,ITBVictimPolicy,ownership hierarchy,per-CPU TLB slice,PTETraits,SMPManager,SPAMBucket,SPAMShardIPRManager,SPAMShardManager,SPAMShardManager AlphaCPU,SPAMShardManager concrete type,SPAMShardManager constructor,SPAMShardManager cpuCount,SPAMShardManager CPUStateIPRInterface,SPAMShardManager dependent class,SPAMShardManager global instance,SPAMShardManager global manager,SPAMShardManager initialization,SPAMShardManager instantiation,SPAMShardManager member variable,SPAMShardManager ownership,SPAMShardManager per-CPU,SPAMShardManager per-realm,SPAMShardManager per-size-class,SPAMShardManager pointer,SPAMShardManager reference,SPAMShardManager SMP,SPAMShardManager SMPManager,SPAMShardManager system manager,SPAMShardManager template parameters,SPAMShardManager traits,SPAMShardManager type alias,SPAMShardManager wiring,SRRIPPolicy,system architecture,SystemManager,system-wide TLB manager,template instantiation,TLB cache,type alias,typedef,using",
hmTitle:"Shard Scaffolding Ownership",
hmDescription:"Class Ownership and Invalidation Coordination in SMP",
hmPrevLink:"",
hmNextLink:"",
hmParentLink:"appendix---trait-examples.html",
hmBreadCrumbs:"",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Appendix > Appendix I – Glossary and Acronyms",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">Shard Scaffolding Ownership<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">Class Ownership and Invalidation Coordination in SMP<\/strong><\/p>\n\r<p class=\"p_Normal\">===================================================<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Ownership Hierarchy<\/span><\/h3>\n\r<p class=\"p_Normal\">-------------------<\/p>\n\r<p class=\"p_Normal\">In a scalable SMP Alpha AXP emulator, the cache\/TLB managers responsible for sharded SPAM entries should be owned and orchestrated at the system or SMP “manager” level, not per-CPU. A typical class hierarchy and ownership might look like:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\">&nbsp;&nbsp;&nbsp;<span class=\"f_CodeExample\">&nbsp;SMPManager&nbsp;(or&nbsp;EmulatorManager\/SystemManager)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─&nbsp;owns&nbsp;→&nbsp;SPAMShardManager&nbsp;(or&nbsp;SPAMShardIPRManager)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─&nbsp;manages&nbsp;all&nbsp;TLB\/PTE&nbsp;shards&nbsp;for&nbsp;all&nbsp;CPUs\/realms\/size&nbsp;classes<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─&nbsp;owns&nbsp;→&nbsp;AlphaCPU[0..N-1]<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─&nbsp;each&nbsp;AlphaCPU&nbsp;references&nbsp;its&nbsp;local&nbsp;slice(s)&nbsp;of&nbsp;the&nbsp;SPAM&nbsp;manager<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Consistency and Broadcast Invalidation<\/span><\/h3>\n\r<p class=\"p_Normal\">--------------------------------------<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>System-wide invalidations (TBIA: TLB Invalidate All, TBIAP: TLB Invalidate ASN\/Process) must operate **across all shards**, not just a single CPU’s cache.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>In a real SMP system, this is typically achieved via Inter-Processor Interrupt (IPI) messages: the SMPManager broadcasts an invalidation request to all CPUs.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Each AlphaCPU, upon receiving the IPI, calls the appropriate invalidation routine in its associated shard or slice of the SPAMShardManager.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>The SPAMShardManager provides methods (e.g., invalidateASN_AllShards(), tbia()) that iterate over all shards\/CPUs and perform the invalidation.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Benefits of Central Ownership<\/span><\/h3>\n\r<p class=\"p_Normal\">-----------------------------<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Ensures a **single source of truth** for all TLB entries in the system.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Simplifies coordination of SMP-wide events (flush, shootdown, broadcast).<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Decouples per-CPU logic from global cache management, enabling efficient broadcast, stats gathering, and policy switching.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Allows per-CPU AlphaCPU objects to interact with their TLB slice without duplicating state.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">Implementation Example<\/strong><\/p>\n\r<p class=\"p_Normal\">----------------------<\/p>\n\r<p class=\"p_Normal\">Example pseudocode for SMP-aware invalidation:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><strong style=\"font-weight: bold;\">Step&nbsp;1:&nbsp;Define&nbsp;or&nbsp;Alias&nbsp;the&nbsp;Manager&nbsp;Type&nbsp;With&nbsp;All&nbsp;Template&nbsp;Parameters<\/strong><\/p>\n\r<p class=\"p_CodeExample\">--------------------------------------------------------------------<\/p>\n\r<p class=\"p_CodeExample\">For&nbsp;example,&nbsp;for&nbsp;an&nbsp;EV6&nbsp;44-bit&nbsp;VA&nbsp;system,&nbsp;4-way,&nbsp;256&nbsp;ASN,&nbsp;1024&nbsp;buckets:<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\">&nbsp;&nbsp;<span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;using&nbsp;MyITBTraits&nbsp;=&nbsp;PTETraits&lt;CPUFamily::EV6,&nbsp;44U&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;MyDTBTraits&nbsp;=&nbsp;Ev6_DtbPteTraits&lt;CPUFamily::EV6,&nbsp;44U&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;constexpr&nbsp;unsigned&nbsp;AssocWays&nbsp;&nbsp;&nbsp;=&nbsp;4;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;constexpr&nbsp;unsigned&nbsp;MaxASN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;256;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;constexpr&nbsp;unsigned&nbsp;BucketCount&nbsp;=&nbsp;1024;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;constexpr&nbsp;bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShardBySize&nbsp;=&nbsp;true;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;ITBVictimPolicy&nbsp;=&nbsp;SRRIPPolicy&lt;typename&nbsp;SPAMBucket&lt;MyITBTraits,&nbsp;AssocWays,&nbsp;MaxASN&gt;::Entry,&nbsp;AssocWays&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;DTBVictimPolicy&nbsp;=&nbsp;SRRIPPolicy&lt;typename&nbsp;SPAMBucket&lt;MyDTBTraits,&nbsp;AssocWays,&nbsp;MaxASN&gt;::Entry,&nbsp;AssocWays&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;ITBInvalidation&nbsp;=&nbsp;DefaultInvalidationStrategy&lt;typename&nbsp;SPAMBucket&lt;MyITBTraits,&nbsp;AssocWays,&nbsp;MaxASN&gt;::Entry&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;DTBInvalidation&nbsp;=&nbsp;DefaultInvalidationStrategy&lt;typename&nbsp;SPAMBucket&lt;MyDTBTraits,&nbsp;AssocWays,&nbsp;MaxASN&gt;::Entry&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;ITBManagerType&nbsp;=&nbsp;SPAMShardManager&lt;MyITBTraits,&nbsp;AssocWays,&nbsp;MaxASN,&nbsp;BucketCount,&nbsp;ShardBySize,&nbsp;ITBVictimPolicy,&nbsp;ITBInvalidation&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;DTBManagerType&nbsp;=&nbsp;SPAMShardManager&lt;MyDTBTraits,&nbsp;AssocWays,&nbsp;MaxASN,&nbsp;BucketCount,&nbsp;ShardBySize,&nbsp;DTBVictimPolicy,&nbsp;DTBInvalidation&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><strong style=\"font-weight: bold;\">Step&nbsp;2:&nbsp;Instantiate&nbsp;With&nbsp;Correct&nbsp;Parameters&nbsp;(e.g.,&nbsp;in&nbsp;SMPManager\/SystemManager)<\/strong><\/p>\n\r<p class=\"p_CodeExample\">-------------------------------------------------------------------------------<\/p>\n\r<p class=\"p_CodeExample\">Suppose&nbsp;cpuCount&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;logical&nbsp;CPUs:<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;ITBManagerType&nbsp;globalItbManager(cpuCount);<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;DTBManagerType&nbsp;globalDtbManager(cpuCount);<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;\/\/&nbsp;Store&nbsp;these&nbsp;as&nbsp;members&nbsp;of&nbsp;your&nbsp;SMPManager\/SystemManager:<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;SMPManager&nbsp;{<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITBManagerType&nbsp;globalItbManager;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTBManagerType&nbsp;globalDtbManager;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt;AlphaCPU&gt;&nbsp;cpuList;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/\/&nbsp;...<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SMPManager(unsigned&nbsp;cpuCount)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;globalItbManager(cpuCount),&nbsp;globalDtbManager(cpuCount)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\/*&nbsp;...&nbsp;*\/&nbsp;}<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;};<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><strong style=\"font-weight: bold;\">Step&nbsp;3:&nbsp;Pass&nbsp;to&nbsp;Dependent&nbsp;Classes&nbsp;by&nbsp;Reference&nbsp;or&nbsp;Pointer<\/strong><\/p>\n\r<p class=\"p_CodeExample\">---------------------------------------------------------<\/p>\n\r<p class=\"p_CodeExample\">Each&nbsp;AlphaCPU&nbsp;(or&nbsp;its&nbsp;associated&nbsp;CPUStateIPRInterface)&nbsp;can&nbsp;receive&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;global&nbsp;manager,&nbsp;e.g.:<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\">&nbsp;<span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;AlphaCPU(ITBManagerType&amp;&nbsp;itbRef,&nbsp;DTBManagerType&amp;&nbsp;dtbRef,&nbsp;\/*&nbsp;...&nbsp;*\/);<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\">And&nbsp;store\/use&nbsp;the&nbsp;reference&nbsp;as:<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;AlphaCPU&nbsp;{<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITBManagerType&amp;&nbsp;itbManager;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DTBManagerType&amp;&nbsp;dtbManager;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/\/&nbsp;...<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;};<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">In this model, **the SPAMShardManager is owned by the SMPManager**, not by individual AlphaCPU instances. CPUs cooperate with the central manager for all TLB operations, especially system\/global invalidations.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><strong style=\"font-weight: bold;\">Example: <\/strong><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;\/\/&nbsp;In&nbsp;a&nbsp;system&nbsp;with&nbsp;4&nbsp;CPUs:<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;ITBManagerType&nbsp;=&nbsp;SPAMShardManager&lt;MyITBTraits,&nbsp;4,&nbsp;256,&nbsp;1024,&nbsp;true,&nbsp;ITBVictimPolicy,&nbsp;ITBInvalidation&gt;;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;ITBManagerType&nbsp;globalItbManager(4);<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;\/\/&nbsp;Use:&nbsp;globalItbManager.tbia_allCPUs();<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Summary<\/span><\/h3>\n\r<p class=\"p_Normal\">-------<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>The SPAMShardManager (or its equivalent) is best owned by the SMP\/system manager.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>SMPManager is responsible for all global invalidation coordination, including IPI delivery and synchronization.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>AlphaCPU objects access and operate on their own shards\/slices via references or indices into the central manager.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>This ensures TLB consistency, enables fast SMP invalidation, and supports efficient scalability in multicore systems.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">References<\/span><\/h3>\n\r<p class=\"p_Normal\">----------<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>alpha_spam_manager.h (SPAMShardManager)<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>SMPManager, AlphaCPU (project-specific system design)<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Alpha Architecture Reference Manual: SMP and TLB invalidation<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Generated for EMulatR Project, 2025-11-14.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r"
})
