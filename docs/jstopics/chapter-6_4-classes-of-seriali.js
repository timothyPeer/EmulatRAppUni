hmLoadTopic({
hmKeywords:"",
hmTitle:"6.4 Classes of Serialization Instructions",
hmDescription:"Alpha defines several serialization primitives, each with a specific scope and distinct release conditions:",
hmPrevLink:"chapter-6_3-what-serialization.html",
hmNextLink:"chapter-6_5-pipeline-level-beh.html",
hmParentLink:"chapter-6---serialization-and-.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-6---serialization-and-.html\">Chapter 6 - Serialization and Stall Model<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 6 - Serialization and Stall Model > 6.4 Classes of Serialization Instructions",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">6.4 Classes of Serialization Instructions<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">Alpha defines several serialization primitives, each with a specific scope and distinct release conditions:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">MB (0x4000) — Full memory barrier. Orders all loads and stores.<\/p>\n\r<p class=\"p_Normal\">WMB (0x4400) — Write-only barrier. Orders stores only; loads may bypass.<\/p>\n\r<p class=\"p_Normal\">EXCB (0x0400) — Exception barrier. Ensures precise exception state.<\/p>\n\r<p class=\"p_Normal\">TRAPB (0x0000) — Trap barrier. Ensures precise arithmetic trap state.<\/p>\n\r<p class=\"p_Normal\">CALL_PAL — Privileged serialization. Serializes mode transition.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Ordering strength (strongest to weakest): PAL &gt; MB\/MB2 &gt; EXCB &gt; WMB &gt; TRAPB &gt; cache hints<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">MemoryBarrierKind Enumeration<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The full set of barrier and cache hint operations is defined in MemoryBarrierKind (MemoryBarrierKind_enum.h). All are encoded as opcode 0x18 function codes:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">enum&nbsp;class&nbsp;MemoryBarrierKind&nbsp;:&nbsp;quint16&nbsp;{<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;TRAPB&nbsp;=&nbsp;0x0000,&nbsp;\/\/&nbsp;Trap&nbsp;Barrier&nbsp;-&nbsp;sync&nbsp;arithmetic&nbsp;trap&nbsp;delivery<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;LOADLOAD&nbsp;=&nbsp;0x0001,&nbsp;\/\/&nbsp;Load-load&nbsp;ordering&nbsp;primitive<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;STOSTO&nbsp;=&nbsp;0x0002,&nbsp;\/\/&nbsp;Store-store&nbsp;ordering&nbsp;primitive<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;STOLOAD&nbsp;=&nbsp;0x0003,&nbsp;\/\/&nbsp;Store-load&nbsp;ordering&nbsp;primitive<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;EXCB&nbsp;=&nbsp;0x0400,&nbsp;\/\/&nbsp;Exception&nbsp;Barrier&nbsp;-&nbsp;sync&nbsp;exception&nbsp;state<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;MB&nbsp;=&nbsp;0x4000,&nbsp;\/\/&nbsp;Memory&nbsp;Barrier&nbsp;-&nbsp;full&nbsp;fence&nbsp;(loads&nbsp;+&nbsp;stores)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;WMB&nbsp;=&nbsp;0x4400,&nbsp;\/\/&nbsp;Write&nbsp;Memory&nbsp;Barrier&nbsp;-&nbsp;store-store&nbsp;ordering<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;FETCH&nbsp;=&nbsp;0x8000,&nbsp;\/\/&nbsp;Prefetch&nbsp;data&nbsp;-&nbsp;cache&nbsp;hint&nbsp;(read&nbsp;intent)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;MB2&nbsp;=&nbsp;0x8400,&nbsp;\/\/&nbsp;Memory&nbsp;Barrier&nbsp;-&nbsp;full&nbsp;fence&nbsp;(alternate&nbsp;encoding)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;FETCH_M&nbsp;=&nbsp;0xA000,&nbsp;\/\/&nbsp;Prefetch&nbsp;data&nbsp;-&nbsp;cache&nbsp;hint&nbsp;(modify&nbsp;intent)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;RS&nbsp;=&nbsp;0xC000,&nbsp;\/\/&nbsp;Read&nbsp;and&nbsp;Set&nbsp;-&nbsp;mark&nbsp;cache&nbsp;line&nbsp;(VAX&nbsp;legacy)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;ECB&nbsp;=&nbsp;0xE800,&nbsp;\/\/&nbsp;Evict&nbsp;Cache&nbsp;Block&nbsp;-&nbsp;cache&nbsp;hint&nbsp;(flush&nbsp;line)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;PAL&nbsp;=&nbsp;0xFFFF&nbsp;\/\/&nbsp;PAL&nbsp;serialization&nbsp;-&nbsp;strongest&nbsp;(MB+EXCB+flush)<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">};<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Note: FETCH, FETCH_M, RS, and ECB are cache hints with no architectural ordering guarantees. They are performance optimizations only.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">SerializationType Enumeration<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The pipeline tracks the barrier class of a stalled slot via SerializationType (cBox_core.h), which maps to the CBox release logic:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">enum&nbsp;class&nbsp;SerializationType&nbsp;{<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;Barrier_MB,&nbsp;\/\/&nbsp;MB&nbsp;-&nbsp;full&nbsp;memory&nbsp;fence<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;Barrier_TRAP,&nbsp;\/\/&nbsp;TRAPB&nbsp;-&nbsp;arithmetic&nbsp;trap&nbsp;fence<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;Barrier_WRITE,&nbsp;\/\/&nbsp;WMB&nbsp;-&nbsp;store-store&nbsp;fence<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;Barrier_EXC,&nbsp;\/\/&nbsp;EXCB&nbsp;-&nbsp;exception&nbsp;fence<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;Barrier_NONE&nbsp;\/\/&nbsp;No&nbsp;serialization&nbsp;pending<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">};<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: coreLib\/MemoryBarrierKind_enum.h; CBoxLib\/cBox_core.h.<\/span><\/p>\n\r"
})
