hmLoadTopic({
hmKeywords:"",
hmTitle:"10.7 Device Registers and Side Effects",
hmDescription:"Devices expose control and status registers via MMIO. Typical register types include command registers, status registers, data registers, interrupt control registers (IMR\/ISR),...",
hmPrevLink:"10_5-mmio-access-semantics.html",
hmNextLink:"10_7-asynchronous-device-opera.html",
hmParentLink:"chapter-10---devices-and-mmio.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-10---devices-and-mmio.html\">Chapter 10 – Devices and Memory-Mapped I\/O (MMIO)<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 10 – Devices and Memory-Mapped I\/O (MMIO) > 10.7 Device Registers and Side Effects",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">10.7 Device Registers and Side Effects<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">Devices expose control and status registers via MMIO. Typical register types include command registers, status registers, data registers, interrupt control registers (IMR\/ISR), and DMA descriptors.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">MMIO register access may have side effects:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Writing a command register may start an asynchronous operation<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Reading a status register may clear bits (clear-on-read ISR)<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Writing an interrupt control bit may acknowledge an interrupt<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Writing a doorbell register triggers DMA\/command processing — the IDeviceEmulator contract specifies that the device should call mmioManager-&gt;drainPostedWrites(uid) before reading descriptors to ensure CPU writes are visible<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">These side effects occur during the MMIO access itself — they are synchronous from the CPU\'s perspective. However, the work triggered by the side effect (DMA transfer, command processing) is asynchronous.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The sideEffectOnRead and sideEffectOnWrite flags in MMIOWindow allow the memory system and debugger to identify registers with side effects, preventing accidental re-reads during debugging or speculative access.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: mmioLib\/IDeviceEmulator.h (onRead, onWrite contracts).<\/span><\/p>\n\r"
})
