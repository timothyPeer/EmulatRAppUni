hmLoadTopic({
hmKeywords:"",
hmTitle:"5.7 MMIO Regions",
hmDescription:"5.7.1 Definition  MMIO regions map physical address ranges to devices, not RAM. The default MMIO region spans PA 0x10_0000_0000 – 0x20_0000_0000 (64 GB). Device emulators...",
hmPrevLink:"chapter-5_6-safememory---phsyi.html",
hmNextLink:"chapter-5_8-loads-and-stores.html",
hmParentLink:"chapter-5---memory-system-arch.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-5---memory-system-arch.html\">Chapter 5 - Memory System Architecture<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 5 - Memory System Architecture > 5.7 MMIO Regions",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">5.7 MMIO Regions<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">5.7.1 Definition<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">MMIO regions map physical address ranges to devices, not RAM. The default MMIO region spans PA 0x10_0000_0000 – 0x20_0000_0000 (64 GB). Device emulators register address ranges with the mmio_Manager, which dispatches reads and writes to the correct IDeviceEmulator instance.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Examples of MMIO-mapped devices: disk controllers, network adapters, console devices, timers, PCI configuration space.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">5.7.2 Ordering Rules<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">MMIO is strongly ordered by default:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Reads complete synchronously — data is returned immediately to the pipeline<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Writes complete synchronously — the device sees the write before the pipeline advances<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>No buffering — MMIO writes bypass the write buffer entirely<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>No reordering — MMIO accesses are sequenced in program order<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>No speculation past MMIO — the pipeline does not advance speculatively over an MMIO access<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">This prevents device protocol violations and simplifies debugging. The strong ordering guarantee for MMIO means that no explicit barriers are needed for device register access sequences.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Implementation note: GuestMemory\'s Span API does not support MMIO regions — getSpanToPA() returns a null span for MMIO addresses, forcing per-access routing through handleRead\/handleWrite.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r"
})
