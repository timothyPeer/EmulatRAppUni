hmLoadTopic({
hmKeywords:"",
hmTitle:"3.5 Decode Stage (DE)",
hmDescription:"Responsibilities  The Decode stage is intentionally minimal. The grain was already resolved during IBox fetch, so Decode performs validation and routing: Validates the grain poi",
hmPrevLink:"chapter-3_4-fetch-stage-(if).html",
hmNextLink:"chapter-3_6-issue-stage-(is).html",
hmParentLink:"chapter-3---pipeline-architect.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-3---pipeline-architect.html\">Chapter 3 - Pipeline Architecture<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 3 - Pipeline Architecture > 3.5 Decode Stage (ID)",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">3.5 Decode Stage (DE)<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">Responsibilities<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The Decode stage is intentionally minimal. The grain was already resolved during IBox fetch, so Decode performs validation and routing:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Validates the grain pointer — if the slot has a non-null grain, the instruction is legal<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Determines the execution Box via executionBoxDecoder(opCode) — classifies the instruction as EBox, MBox, FBox, CBox, PalBox, or other<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Sets the slot\'s execUnit field for pipeline routing<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Forwards the slot to the Issue stage if valid<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The execution Box classification maps opcodes to their target functional domain:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">switch&nbsp;(executionBoxDecoder(opCode))&nbsp;{<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;case&nbsp;ExecutionBox::EBox:&nbsp;slot.execUnit&nbsp;=&nbsp;ExecUnit::EBOX;&nbsp;break;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;case&nbsp;ExecutionBox::MBox:&nbsp;slot.execUnit&nbsp;=&nbsp;ExecUnit::MBOX;&nbsp;break;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;case&nbsp;ExecutionBox::FBox:&nbsp;slot.execUnit&nbsp;=&nbsp;ExecUnit::FBOX;&nbsp;break;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;case&nbsp;ExecutionBox::CBox:&nbsp;slot.execUnit&nbsp;=&nbsp;ExecUnit::CBOX;&nbsp;break;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;case&nbsp;ExecutionBox::HWBox:&nbsp;slot.execUnit&nbsp;=&nbsp;ExecUnit::PALBOX;&nbsp;break;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">}<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">Decode Cache Invariant<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Decoding occurs once per unique instruction pattern via the GrainResolver. The resolved grain is cached in the InstructionGrainRegistry and reused on subsequent fetches of the same opcode\/function-code pair. Execution may occur many times from a single decode.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"3_16-grain-system-chapter3.html\" class=\"topiclink\">3.16 Grain System <\/a>; grainFactoryLib\/GrainResolver.h; grainFactoryLib\/executionBoxDecoder_inl.h.<\/span><\/p>\n\r"
})
