hmLoadTopic({
hmKeywords:"",
hmTitle:"14.7 Box Interaction Model",
hmDescription:"The six boxes do not call each other directly. Instead, they communicate through four shared mechanisms:",
hmPrevLink:"14_6-palbox---privileged-archi.html",
hmNextLink:"14_8-repository-directory-mapp.html",
hmParentLink:"chapter-14---execution-domains.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-14---execution-domains.html\">Chapter 14 – Execution Domains (“Boxes”)<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 14 – Execution Domains (“Boxes”) > 14.7 Box Interaction Model",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">14.7 Box Interaction Model<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">The six boxes do not call each other directly. Instead, they communicate through four shared mechanisms:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0; border-collapse:collapse;\">\n\r<thead>\n\r<tr>\n\r<th style=\"vertical-align:top; background-color:#00FFFF; padding:0; border:solid thin #000000;\" scope=\"col\"><p class=\"p_Normal\"><span style=\"font-weight: bold;\">Mechanism<\/span><\/p>\n\r<\/th>\n\r<th style=\"vertical-align:top; background-color:#00FFFF; padding:0; border:solid thin #000000;\" scope=\"col\"><p class=\"p_Normal\"><span style=\"font-weight: bold;\">Role in Box Communication<\/span><\/p>\n\r<\/th>\n\r<\/tr>\n\r<\/thead>\n\r<tbody>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">PipelineSlot<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Primary data transport. Carries the DecodedInstruction, register read accessors, and payLoad result field through every box that touches the instruction. Each box reads inputs from and writes results to the slot.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">IPR State Views<\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Every box holds a per-CPU pointer (<span class=\"f_CodeExample\">m_iprGlobalMaster<\/span>) to the shared IPR storage, providing read\/write access to the architectural PC, processor status, FPCR, and hardware registers. This is the shared architectural state backbone.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">GuestMemory<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Shared physical memory subsystem. The IBox reads instructions, the MBox reads\/writes data, and the CBox commits write-buffer entries through this interface.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<tr>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\"><span class=\"f_CodeExample\">FaultDispatcher<\/span><\/p>\n\r<\/td>\n\r<td style=\"vertical-align:top; padding:0; border:solid thin #000000;\"><p class=\"p_Normal\">Per-CPU fault sink. Any box can post a fault (translation miss, arithmetic trap, alignment fault) which is then routed to the PalBox for PAL-mode exception handling.<\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/tbody>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">This decoupled design ensures that each box can be developed, tested, and debugged in isolation, and that the emulator\'s execution model remains deterministic and cycle-reproducible.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"alphapipeline-implementation.html\" class=\"topiclink\">Chapter 13 – AlphaPipeline Implementation (PipelineSlot)<\/a>; <a href=\"chapter-15---memory-system-imp.html\" class=\"topiclink\">Chapter 15 – Memory System Implementation Details (GuestMemory, WriteBufferManager)<\/a>; <a href=\"chapter-17---tlb_-pte_-and-add.html\" class=\"topiclink\">Chapter 17 – Address Translation, TLB, and PTE<\/a> &nbsp;; <a href=\"chapter-18---fault-dispatcher-.html\" class=\"topiclink\">Chapter 18 – Fault Dispatcher &amp; Precise Exceptions (FaultDispatcher)<\/a>.<\/span><\/p>\n\r"
})
