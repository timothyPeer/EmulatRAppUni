hmLoadTopic({
hmKeywords:"",
hmTitle:"11.2 Execution and Pipeline Invariants",
hmDescription:"11.2.1 Precise Execution  All exceptions are precise. When an exception is delivered: all prior instructions have completed, no later instruction has modified architectural...",
hmPrevLink:"11_1-purpose-of-this-chapter.html",
hmNextLink:"11_3-memory-model-invariants.html",
hmParentLink:"chapter-11---architectural-inv.html",
hmBreadCrumbs:"<a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-11---architectural-inv.html\">Chapter 11 - Architectural Invariants<\/a>",
hmTitlePath:"Introduction > Architecture Overview > Chapter 11 - Architectural Invariants > 11.2 Execution and Pipeline Invariants",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">11.2 Execution and Pipeline Invariants<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.2.1 Precise Execution<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">All exceptions are precise. When an exception is delivered: all prior instructions have completed, no later instruction has modified architectural state, and no instruction partially commits. There are no imprecise exceptions in ASA-EmulatR.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: detect-early\/deliver-late model — faults detected in EX stage (slot.faultPending), not delivered until WB stage. Younger pipeline slots invalidated on delivery. FaultDispatcher queues events and controls delivery timing.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.2.2 Single Commit Point<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Architectural state commits only in Writeback (WB). No instruction updates architectural state earlier. Speculative results are never visible. This applies to registers, PC, condition codes, and memory visibility.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: pipeline stages IF→EX→MEM→WB with EX producing results into slot temporaries, WB writing to architectural register files.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.2.3 EX Stage Authority<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">All instruction semantics execute in EX stage. Memory operations occur in EX via MBox. Other pipeline stages perform bookkeeping only. No architectural work occurs outside EX.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: grain→execute() called in EX stage, returning BoxResult. All execution box dispatch (EBox, FBox, MBox, CBox, PalBox) occurs within EX.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.2.4 No Speculation Across Serialization Points<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">No speculative instruction may execute past: MB, WMB, EXCB, TRAPB, CALL_PAL, or HW_REI. Serialization points are absolute.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: slot.stalled flag in stage_MEM() stall check, slot.needsMemoryBarrier\/needsWriteBufferDrain flags, pipeline flush on CALL_PAL and HW_REI (BoxResult::flushPipeline()), frontend fetch blocked while any slot is stalled.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-3_15-precise-exception.html\" class=\"topiclink\">3.14 Precise Exceptions<\/a>; <a href=\"chapter-6_5-pipeline-level-beh.html\" class=\"topiclink\">6.5 Pipeline-Level Behavior<\/a>.<\/span><\/p>\n\r"
})
