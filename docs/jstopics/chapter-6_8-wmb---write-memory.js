hmLoadTopic({
hmKeywords:"Bypass,CBox,Completion,Coordination,DataStructure,Device,Drain,executeWMB,Flag,Implementation,Load,LocalDrain,Lock,Notification,Pipeline,Publish,ReleaseCondition,ReleasePattern,Semantics,Serialization,Store,StoreOrdering,Visibility,WMB,WriteBuffer,WriteMemoryBarrier",
hmTitle:"6.8 WMB - Write Memory Barrier",
hmDescription:"6.8.1 Semantics  WMB enforces ordering of stores only. It guarantees that all prior stores are globally visible and write buffers are drained. It does not order loads — loads...",
hmPrevLink:"chapter-6_7-mb---full-memory-b.html",
hmNextLink:"chapter-6_9-excb---exception-b.html",
hmParentLink:"chapter-6---serialization-and-.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-6---serialization-and-.html\">Chapter 6 - Serialization and Stall Model<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 6 - Serialization and Stall Model > 6.8 WMB - Write Memory Barrier",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">6.8 WMB - Write Memory Barrier<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">6.8.1 Semantics<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">WMB enforces ordering of stores only. It guarantees that all prior stores are globally visible and write buffers are drained. It does not order loads — loads may bypass WMB freely.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">6.8.2 Implementation<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">CBox::executeWMB() is lighter than MB — it drains the local write buffer only, with no global coordination. After draining, it sets slot.serialized = true to mark the barrier as complete.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">\/\/&nbsp;CBox::executeWMB()<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">drainWriteBuffers(&amp;slot);&nbsp;\/\/&nbsp;Local&nbsp;drain&nbsp;only,&nbsp;no&nbsp;global&nbsp;coordination<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">slot.serialized&nbsp;=&nbsp;true;<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">6.8.3 Release Conditions<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">WMB is released when: all older store operations have completed and write buffers are empty. Loads may bypass WMB.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">6.8.4 Typical Use<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">WMB is used for publishing data structures, releasing locks (store-release pattern), and preparing memory before device notification.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: CBoxLib\/CBoxBase.h (executeWMB).<\/span><\/p>\n\r"
})
