hmLoadTopic({
hmKeywords:"alpha_spam_bucket.h,alpha_spam_manager.h,baseline policy,cache access pattern,cache configuration,cache entry,cache eviction,cache flags,cache hit,cache management,cache miss,cache replacement,clock algorithm,clock hand,ClockPolicy,custom invalidation policy,custom replacement policy,DefaultInvalidationStrategy,entry invalidation,invalidate entry,invalidate method,invalidation strategy,Least Recently Used (LRU),per-bucket state,per-entry state,policy code sample,policy design decision,policy extensibility,policy implementation,policy interface,policy limitations,policy state,policy template parameter,policy usage,random victim policy,RandomPolicy,recordAccess,reference bit,replacement policy,ReplacementPolicyBase,re-reference prediction value,RRPV,selectVictim,SPAMBucket,SPAMShardManager,SRRIPPolicy,stateless policy,Static Re-Reference Interval Prediction,template policy,TemplatePolicyBase.h,temporal locality,thread safety,valid flag,victim policy selection,victim selection policy",
hmTitle:"Cache Replacement and Invalidation Policies",
hmDescription:"Overview -------- The cache replacement and invalidation policies are critical components of the PTE subsystem\'s cache management strategy. These policies determine how cache...",
hmPrevLink:"",
hmNextLink:"",
hmParentLink:"appendix---trait-examples.html",
hmBreadCrumbs:"",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Appendix > Appendix I â€“ Glossary and Acronyms",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">Cache Replacement and Invalidation Policies<\/span><\/h1>\n\r",
hmBody:"<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">Overview<\/span><\/h3>\n\r<p class=\"p_Normal\">--------<\/p>\n\r<p class=\"p_Normal\">The cache replacement and invalidation policies are critical components of the PTE subsystem\'s cache management strategy. These policies determine how cache entries are selected for eviction when the cache is full and how invalidation operations are performed.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The key policy classes are:<\/p>\n\r<p class=\"p_Normal\">1. ReplacementPolicyBase: The base class for all victim selection policies.<\/p>\n\r<p class=\"p_Normal\">2. SRRIPPolicy: Static Re-Reference Interval Prediction policy for victim selection.<\/p>\n\r<p class=\"p_Normal\">3. ClockPolicy: Clock-based replacement policy for victim selection.<\/p>\n\r<p class=\"p_Normal\">4. RandomPolicy: Random replacement policy for victim selection.<\/p>\n\r<p class=\"p_Normal\">5. DefaultInvalidationStrategy: The default invalidation strategy.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">ReplacementPolicyBase<\/span><\/h3>\n\r<p class=\"p_Normal\">---------------------<\/p>\n\r<p class=\"p_Normal\">ReplacementPolicyBase is an abstract base class that defines the interface for all victim selection policies. It provides two pure virtual methods that must be implemented by derived policy classes:<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;unsigned&nbsp;selectVictim(const&nbsp;Entry*&nbsp;entries)&nbsp;noexcept&nbsp;=&nbsp;0;<\/span><\/p>\n\r<p class=\"p_CodeExample\"><span class=\"f_CodeExample\">&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;void&nbsp;recordAccess(const&nbsp;Entry&amp;&nbsp;entry,&nbsp;unsigned&nbsp;way)&nbsp;noexcept&nbsp;=&nbsp;0;<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>selectVictim: Selects a victim entry for eviction when the cache is full. Takes an array of cache entries and returns the index of the selected victim.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>recordAccess: Called when a cache entry is accessed. Allows the policy to update its internal state based on the access pattern.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Derived policy classes must implement these methods to define their specific victim selection strategy.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">SRRIPPolicy<\/span><\/h3>\n\r<p class=\"p_Normal\">-----------<\/p>\n\r<p class=\"p_Normal\">SRRIPPolicy is a victim selection policy based on the Static Re-Reference Interval Prediction (SRRIP) algorithm. It assigns a re-reference prediction value (RRPV) to each cache entry and selects the entry with the highest RRPV as the victim.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Key features of SRRIPPolicy:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Maintains a 2-bit RRPV for each cache entry.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>On a cache hit, the RRPV of the accessed entry is set to 0 (most recently used).<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>On a cache miss, the victim is selected as the entry with the highest RRPV.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>If multiple entries have the same highest RRPV, the first one encountered is selected as the victim.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">SRRIPPolicy provides a balance between recency and frequency of access, making it effective for workloads with temporal locality.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<h3 class=\"p_Heading3\" style=\"page-break-after: avoid;\"><span class=\"f_Heading3\">ClockPolicy<\/span><\/h3>\n\r<p class=\"p_Normal\">-----------<\/p>\n\r<p class=\"p_Normal\">ClockPolicy is a victim selection policy based on the clock algorithm. It maintains a reference bit for each cache entry and a &quot;clock hand&quot; that points to the current entry.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Key features of ClockPolicy:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>Maintains a reference bit for each cache entry.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>On a cache hit, the reference bit of the accessed entry is set to 1.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span>On a cache miss:<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0; margin: 0 0 0 1.6250rem;\"><span class=\"f_Normal\" style=\"font-family: \'Courier New\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">o<\/span>The victim is selected by moving the clock hand until an entry with a reference bit of 0 is found.<\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0; margin: 0 0 0 1.6250rem;\"><span class=\"f_Normal\" style=\"font-family: \'Courier New\';display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">o<\/span>The reference bit of the selected victim is set to 0, and the clock hand is<\/p>\n\r<p class=\"p_Normal\" style=\"margin: 0 0 0 1.6250rem;\">&nbsp;<\/p>\n\r"
})
