hmLoadTopic({
hmKeywords:"",
hmTitle:"11.5 Privilege and PAL Invariants",
hmDescription:"11.5.1 Absolute Privileged Boundary  Execution is either PAL or non-PAL. There is no intermediate privilege state. Privilege cannot be escalated incrementally.  Enforced by: PC",
hmPrevLink:"11_4-load-locked-_-store-condi.html",
hmNextLink:"11_6-exception-and-interrupt-i.html",
hmParentLink:"chapter-11---architectural-inv.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-11---architectural-inv.html\">Chapter 11 - Architectural Invariants<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 11 - Architectural Invariants > 11.5 Privilege and PAL Invariants",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">11.5 Privilege and PAL Invariants<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.5.1 Absolute Privileged Boundary<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Execution is either PAL or non-PAL. There is no intermediate privilege state. Privilege cannot be escalated incrementally.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: PC bit 0 = 1 indicates PAL mode, instruction decode checks PAL mode flag, privileged instructions (HW_MFPR, HW_MTPR, HW_LD, HW_ST, HW_REI) fault with OPCDEC outside PAL.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.5.2 Single Entry \/ Single Exit<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">CALL_PAL is the only entry into PAL mode. HW_REI is the only exit from PAL mode. Any other path is illegal and must fault.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: PalBoxBase::enterPal() is the sole PAL entry function (sets PC|0x1, IPL=7, CM=KERNEL), AlphaCPU::executeREI() is the sole PAL exit function (restoreContext(), pipeline flush).<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">11.5.3 Complete State Restoration<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">PAL entry captures full architectural state (via saveContext()). HW_REI restores full architectural state (via restoreContext()). No partial restoration is permitted. No PAL state leaks into non-PAL execution.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Enforced by: full vector copy of integer registers, FP registers, PS, IPL, PC in both saveContext() and restoreContext(). Shadow registers active only during PAL mode.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: <a href=\"chapter-8---pal-and-privleged-.html\" class=\"topiclink\">Chapter 8 - PAL and Privileged Boundary<\/a>.<\/span><\/p>\n\r"
})
