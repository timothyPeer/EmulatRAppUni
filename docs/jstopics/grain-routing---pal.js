hmLoadTopic({
hmKeywords:"",
hmTitle:"Grain Routing - PAL",
hmDescription:"Key architectural rule (reinforced) ----------------------------------- - PAL grains should NOT force a return to User mode on exit. - PAL-mode is an execution state (your desig",
hmPrevLink:"",
hmNextLink:"",
hmParentLink:"appendix---trait-examples.html",
hmBreadCrumbs:"",
hmTitlePath:"Introduction > Appendix > Appendix I â€“ Global Singletons",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">Grain Routing - PAL<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">Key architectural rule (reinforced)<\/p>\n\r<p class=\"p_Normal\">-----------------------------------<\/p>\n\r<p class=\"p_Normal\">- PAL grains should NOT force a return to User mode on exit.<\/p>\n\r<p class=\"p_Normal\">- PAL-mode is an execution state (your design syncs it with PC[0]).<\/p>\n\r<p class=\"p_Normal\">- Privilege mode (CM\/PS) must be restored, not forced.<\/p>\n\r<p class=\"p_Normal\">- With your current policy (PAL grains commit side effects directly), PAL grains<\/p>\n\r<p class=\"p_Normal\"> &nbsp;should generally set: slot.needsWriteback = false, and perform direct writes<\/p>\n\r<p class=\"p_Normal\"> &nbsp;(e.g., R0 convention) inside the PAL handler.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Grains which execute through CALLSYS: &nbsp;should execute through the Pal dispatcher:  <span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; color: #0000ff; background-color: #ffffff;\">dispatchCallPal&nbsp;<\/span><\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-size:0.82rem; font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';color:#0000FF;display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; color: #0000ff; background-color: #ffffff;\">dispatchCallPal is responsible for any side effects and will configure the grain on&nbsp;<\/span><\/p>\n\r<p class=\"p_Normal\" style=\"text-indent: 0; padding-left: 0.8125rem; margin-left: 0;\"><span class=\"f_Normal\" style=\"font-size:0.82rem; font-family: Arial,\'Lucida Sans Unicode\',\'Lucida Grande\',\'Lucida Sans\';color:#0000FF;display:inline-block;width:0.8125rem;margin-left:-0.8125rem\">&#8226;<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; color: #0000ff; background-color: #ffffff;\">return to the AlphaPipeLine::stage_WB as&nbsp;<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; font-weight: bold; color: #000080; background-color: #ffffff;\">slot<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; background-color: #ffffff;\">.<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; color: #000080; background-color: #ffffff;\">needsWriteback<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; background-color: #ffffff;\">&nbsp;=&nbsp;<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; color: #0000ff; background-color: #ffffff;\">false<\/span><span style=\"font-size: 0.82rem; font-family: \'Cascadia Mono\'; background-color: #ffffff;\">;<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r"
})
