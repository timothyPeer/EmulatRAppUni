hmLoadTopic({
hmKeywords:"",
hmTitle:"10.4 Device Registration and Catalog",
hmDescription:"10.4.1 DeviceCatalog  DeviceCatalog (mmio_DeviceCatalog.h, 130 lines) is the template database for all device types. It stores DeviceTemplate instances keyed by template ID...",
hmPrevLink:"10_3-device-model-overview.html",
hmNextLink:"10_4-mmio-address-space.html",
hmParentLink:"chapter-10---devices-and-mmio.html",
hmBreadCrumbs:"<a href=\"license-_-attributions.html\">ASA-EMulatR Reference Guide<\/a> &gt; <a href=\"index.html\">Introduction<\/a> &gt; <a href=\"architecture-overview.html\">Architecture Overview<\/a> &gt; <a href=\"chapter-10---devices-and-mmio.html\">Chapter 10 – Devices and Memory-Mapped I\/O (MMIO)<\/a>",
hmTitlePath:"ASA-EMulatR Reference Guide > Introduction > Architecture Overview > Chapter 10 – Devices and Memory-Mapped I\/O (MMIO) > 10.4 Device Registration and Catalog",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">10.4 Device Registration and Catalog<\/span><\/h1>\n\r",
hmBody:"<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">10.4.1 DeviceCatalog<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">DeviceCatalog (mmio_DeviceCatalog.h, 130 lines) is the template database for all device types. It stores DeviceTemplate instances keyed by template ID (e.g., &quot;qlogic_isp1020&quot;), PCI vendor:device ID, or device class. Built-in templates are registered via initializeBuiltins(), which calls addBuiltinScsiTemplates(), addBuiltinNicTemplates(), addBuiltinUartTemplates(), addBuiltinIdeTemplates(), addBuiltinBridgeTemplates(), and addBuiltinClassDefaults().<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Lookup methods: getTemplate(key), lookupByPciId(vendorId, deviceId), lookupByPciSubsystemId(...), lookupByClass(cls). Custom templates can be added via addTemplate().<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">10.4.2 DeviceTemplate<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">DeviceTemplate (mmio_deviceTemplate.h, 208 lines) is the complete device specification structure. It contains identity and metadata (displayName, vendorName, templateId, mmio_DeviceClass, PCI vendorId\/deviceId\/revision\/classCode), resource requirements (QVector&lt;BarTemplate&gt; for MMIO windows, QVector&lt;IrqTemplate&gt; for interrupt lines), DMA capabilities (dmaMask, support flags), and defaults (IPL, MSI support).<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">IrqTemplate specifies: IPL level, SCB vector index, trigger mode (Edge\/Level), routing policy (FixedCPU), and affinity CPU.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<hr style=\"height:1px; color:#000000; border-width:0; background-color:#000000;\" \/><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h2 class=\"p_Heading2\" style=\"page-break-after: avoid;\"><span class=\"f_Heading2\">10.4.3 Device Attachment<\/span><\/h2>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Devices are created by specialized managers (SCSIDeviceManager, ConsoleManager, NetworkManager, FibreDeviceManager, IDEDeviceManager, etc.), registered with MMIOManager (assigned physical address ranges), registered with the interrupt subsystem (assigned IRQ vectors and IPL), and optionally bound to backing storage or network endpoints. Once registered, devices become visible to all CPUs via GuestMemory → MMIOManager routing.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_SeeAlso\" style=\"page-break-after: avoid;\"><span class=\"f_SeeAlso\">See Also: mmioLib\/mmio_DeviceCatalog.h; mmioLib\/mmio_deviceTemplate.h.<\/span><\/p>\n\r"
})
